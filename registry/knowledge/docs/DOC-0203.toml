# Markdown source migrated to TOML document store.
# This file is generated by migrate_markdown_corpus_to_toml.py.

[document]
id = "DOC-0203"
source_path = "reports/audit_pythonpath.md"
title = "Pythonpath Hygiene Audit (2026-02-04)"
kind = "markdown_mirror"
status = "active"
migration_priority = "critical"
generated = true
source_sha256 = "5ebb7de5e5add389405212fbd63c098ce1caa6a9b23f6bac31810acbb5261cb4"
source_line_count = 112
source_size_bytes = 5618
content_sha256 = "5ebb7de5e5add389405212fbd63c098ce1caa6a9b23f6bac31810acbb5261cb4"
migrated_at = "deterministic"
capture_mode = "raw_markdown_capture"
authoritative = false
content_format = "markdown"
content_markdown = """
<!-- AUTO-GENERATED: DO NOT EDIT -->
<!-- Source of truth: registry/reports_narratives.toml -->

<!-- AUTO-GENERATED: DO NOT EDIT -->
<!-- Source of truth: registry/reports_narratives.toml -->

<!-- AUTO-GENERATED: DO NOT EDIT -->
<!-- Source of truth: registry/reports_narratives.toml -->

<!-- AUTO-GENERATED: DO NOT EDIT -->
<!-- Source of truth: registry/reports_narratives.toml -->

<!-- AUTO-GENERATED: DO NOT EDIT -->
<!-- Source of truth: registry/reports_narratives.toml -->

# Pythonpath Hygiene Audit (2026-02-04)

Goal: keep imports reproducible and avoid scripts-as-modules drift.

## Current pytest.ini pythonpath

- `src`
- `src/scripts/analysis`
- `src/scripts/data`
- `src/scripts/export`
- `src/scripts/measure`
- `src/scripts/simulation`
- `src/scripts/visualization`

## Script directories injected into pythonpath

- `src/scripts/analysis`
- `src/scripts/data`
- `src/scripts/export`
- `src/scripts/measure`
- `src/scripts/simulation`
- `src/scripts/visualization`

## Evidence: tests importing script modules

- Script modules discovered (union): 296
- Import hits in tests: 54

| test | module |
| --- | --- |
| `tests/test_c050_spaceplate_flow_isomorphism_toy.py` | `c050_spaceplate_flow_isomorphism_toy` |
| `tests/test_compact_object_census.py` | `compact_object_census` |
| `tests/test_gwtc3_sky_localization_areas.py` | `extract_gwtc3_skylocalizations` |
| `tests/test_aflow_materials.py` | `fetch_aflow_materials` |
| `tests/test_agn_reverb_masses.py` | `fetch_agn_reverb_masses` |
| `tests/test_atnf_pulsars_full.py` | `fetch_atnf_pulsars_full` |
| `tests/test_chime_frb.py` | `fetch_chime_frb` |
| `tests/test_cms_dimuon.py` | `fetch_cms_dimuon` |
| `tests/test_cms_higgs_diphoton.py` | `fetch_cms_higgs_diphoton` |
| `tests/test_des_y6_cosmic_shear.py` | `fetch_des_y6_shear` |
| `tests/test_desi_dr1_bao.py` | `fetch_desi_dr1_bao` |
| `tests/test_fermi_grb.py` | `fetch_fermi_grb` |
| `tests/test_jwst_sne.py` | `fetch_jwst_sne` |
| `tests/test_mcgill_magnetars.py` | `fetch_mcgill_magnetars` |
| `tests/test_nanograv_15yr.py` | `fetch_nanograv_15yr` |
| `tests/test_neutrino_params.py` | `fetch_neutrino_params` |
| `tests/test_gwtc_o4_events.py` | `fetch_o4_events` |
| `tests/test_pdg_coupling_constants.py` | `fetch_pdg_particle_data` |
| `tests/test_pdg_particle_data.py` | `fetch_pdg_particle_data` |
| `tests/test_planck_2018_chains.py` | `fetch_planck_2018_chains` |
| `tests/test_planck_2018_spectra.py` | `fetch_planck_2018_spectra` |
| `tests/test_bao_observable_conversion.py` | `fix_bao_observables` |
| `tests/test_gravastar_thin_shell.py` | `gravastar_thin_shell` |
| `tests/test_gravastar_thin_shell_stability.py` | `gravastar_thin_shell_stability` |
| `tests/test_gwtc3_bayesian_mixture.py` | `gwtc3_bayesian_mixture` |
| `tests/test_gwtc3_selection_bias_control.py` | `gwtc3_mass_clumping_selection_control` |
| `tests/test_gwtc3_modality_preregistered.py` | `gwtc3_modality_preregistered` |
| `tests/test_joint_cosmology_likelihood.py` | `joint_cosmology_likelihood` |
| `tests/test_load_cosmological_datasets.py` | `load_cosmological_datasets` |
| `tests/test_materials_absorber_cpa_twoport.py` | `materials_absorber_cpa_twoport` |
| `tests/test_materials_absorber_rlc.py` | `materials_absorber_rlc` |
| `tests/test_materials_absorber_salisbury.py` | `materials_absorber_salisbury` |
| `tests/test_materials_absorber_tcmt.py` | `materials_absorber_tcmt` |
| `tests/test_materials_baseline_models.py` | `materials_baseline_models` |
| `tests/test_tensor_network_entropy_tiny.py` | `measure_tensor_network_entropy` |
| `tests/test_tensor_network_entropy_decision.py` | `measure_tensor_network_entropy_decision` |
| `tests/test_tensor_network_entropy_large.py` | `measure_tensor_network_entropy_large` |
| `tests/test_tensor_network_entropy_scaling.py` | `measure_tensor_network_entropy_scaling` |
| `tests/test_neg_dim_free_eta_comparison.py` | `neg_dim_free_eta_comparison` |
| `tests/test_neg_dim_free_eta_comparison.py` | `neg_dim_free_eta_comparison` |
| `tests/test_neg_dim_free_eta_comparison.py` | `neg_dim_free_eta_comparison` |
| `tests/test_neg_dim_free_eta_comparison.py` | `neg_dim_free_eta_comparison` |
| `tests/test_neg_dim_model_comparison.py` | `neg_dim_model_comparison` |
| `tests/test_neg_dim_model_comparison.py` | `neg_dim_model_comparison` |
| `tests/test_neg_dim_model_comparison.py` | `neg_dim_model_comparison` |
| `tests/test_neg_dim_model_comparison.py` | `neg_dim_model_comparison` |
| `tests/test_neg_dim_model_comparison.py` | `neg_dim_model_comparison` |
| `tests/test_neg_dim_model_comparison.py` | `neg_dim_model_comparison` |
| `tests/test_parisi_sourlas_connection.py` | `parisi_sourlas_spectral_dimension` |
| `tests/test_particle_algebra_comparison.py` | `particle_algebra_comparison` |
| `tests/test_rl_symmetry_model.py` | `rl_symmetry_model` |
| `tests/test_tensor_entropy_multi_system.py` | `tensor_entropy_multi_system` |
| `tests/test_tensor_entropy_multi_system_fit.py` | `tensor_entropy_multi_system_fit` |
| `tests/test_vis_data_quality_dashboard.py` | `vis_data_quality_dashboard` |

## Recommendations (phase-gated)

- Prefer: install package (src layout) and import only from packages under `src/`.
- Treat `src/scripts/**` as entrypoints, not importable libraries.
- If a script contains reusable logic, move that logic into a package module and keep the script as a thin wrapper.

## Checklist

- [ ] Remove `src/scripts/*` entries from pytest.ini pythonpath.
- [ ] Refactor any tests that import script modules to import package modules instead.
- [ ] Ensure `pip install -e .` is sufficient for all test imports.

"""
