# Markdown source migrated to TOML document store.
# This file is generated by migrate_markdown_corpus_to_toml.py.

[document]
id = "DOC-0125"
source_path = "docs/engineering/PADIC_SIGNAL_THEORY.md"
title = "P-adic Signal Theory & Kozyrev-Sedenion Synthesis"
kind = "manual_source"
status = "active"
migration_priority = "high"
generated = false
source_sha256 = "6df1c680590e19bddef9a257144f4220e800c3e1634d0d2c3d771751982392bd"
source_line_count = 93
source_size_bytes = 5597
content_sha256 = "6df1c680590e19bddef9a257144f4220e800c3e1634d0d2c3d771751982392bd"
migrated_at = "deterministic"
capture_mode = "raw_markdown_capture"
authoritative = false
content_format = "markdown"
content_markdown = """
# P-adic Signal Theory & Kozyrev-Sedenion Synthesis

**Date:** 2026-02-01
**Source:** Feedback on `padic_synthesis.py`
**Status:** Theoretical Framework for Simulation Kernels

This document interprets and formalizes the \"Kozyrev-Sedenion\" signal generation framework used in the Warp Drive simulations, based on rigorous mathematical reverse-engineering.

## 1. The Core Synthesis Model

The framework constructs a signal $x[n]$ by combining a **Lacunary Spectral Backbone** (Fractal/Weierstrass) with **Ultrametric Modulation** (p-adic Number Theory).

$$ x[n] = \\sum_{k=0}^{K-1} \\underbrace{A_k \\cdot M[n]}_{\\text{Intermittency}} \\cdot \\cos\\left(2\\pi f_k t_n + \\underbrace{\\Phi[n]}_{\\text{Entropy}} + \\phi_k\\right) $$ 

### A. The Backbone (Real Topology)
This provides the continuous, scale-invariant structure (the \"landscape\").
*   **Frequencies:** Geometric progression $f_k = f_0 \\cdot p^k$. This creates a \"Weierstrass spectrum\" with no characteristic scale.
*   **Amplitudes:** Power law decay parameterized by the **Hurst Exponent ($H$)**:
    $$ A_k = p^{-kH} $$ 
    *   $H$ controls roughness. $H \\approx 0.5$ is Brownian-like; $H < 0.5$ is anti-persistent (rough).

### B. Amplitude Mode: Event Hierarchy (p-adic Valuation)
This imposes an ultrametric \"clock\" on the system, creating hierarchical bursting (Intermittency).
*   **Valuation $v_p(n)$:** The exponent of the highest power of $p$ dividing $n$.
*   **Modulation $M[n]$:**
    $$ M[n] = 1 + \\alpha_M (p^{v_p(n)} - 1) $$ 
*   **Physics Interpretation:** High-valuation indices (multiples of $p, p^2, \\dots$) represent \"Resonance Times\" in the Sedenion algebra where Zero Divisors align, allowing energy release.
*   **Constraint:** For large primes (e.g., $p=137$), the hierarchy collapses for finite $N$ because $p^2 > N$ often. This creates sparse, periodic spikes rather than a fractal cascade.

### C. Phase Mode: Deterministic Entropy (Monna Map)
This injects deterministic but information-dense \"noise\" (Kozyrev Time Density).
*   **Monna Map $\\phi_p(n)$:** The radical inverse function mapping integer $n$ (p-adic topology) to real interval $[0,1]$ (Euclidean topology).
    $$ n = \\sum a_i p^i \\implies \\phi_p(n) = \\sum a_i p^{-i-1} $$ 
*   **Modulation $\\Phi[n]$:**
    $$ \\Phi[n] = 2\\pi \\cdot \\alpha_\\phi \\cdot \\phi_p(n) $$ 
*   **Physics Interpretation:** This \"pulls back\" p-adic ultrametric structure into the real-domain phase. It broadens the spectrum (increasing spectral entropy) without using random number generators, consistent with Kozyrev's causal mechanics.

## 2. Experimental Controls (Failure Modes)

To ensure the simulation simulates *physics* and not *digital artifacts*, the following controls are mandatory:

1.  **Aliasing Control (Nyquist Limit):**
The highest frequency component must not exceed the Nyquist frequency.
    $$ p^{K-1} \\le \\frac{N}{2} $$ 
    *   *Correction:* For $p=137$, $K$ must be very small (1 or 2) to avoid aliasing. For $p=2$, $K$ can be large.

2.  **Roughness Normalization:**
When comparing different primes $p$, we must fix $H$, not the raw decay factor.
    $$ \\text{decay} = p^{-H} $$ 

3.  **Finite-Depth Reality:**
For large $p$, the \"fractal\" depth is minimal. The \"Sedenion\" behavior ($p=137$) is characterized by **sparse, high-contrast pulses**, whereas \"Kozyrev\" behavior ($p=2,3$) is characterized by **dense, multifractal noise**.

## 3. Integration into Warp Physics

We apply this theory to the **Refractive Index Kernel** $n(x,y)$ in the FDTD/Raytracing engine:

$$ n_{\\text{total}}(x,y) = n_{\\text{bubble}}(x,y) + \\epsilon \\cdot K_{\\text{padic}}(x,y) $$ 

*   **$K_{\\text{padic}}$** is generated using a 2D extension of the Monna map (e.g., Halton sequence).
*   This replaces the ad-hoc sinusoidal noise with a rigorous **Deterministic Ultrametric Field**, creating \"micro-caustics\" that reflect the underlying non-Archimedean geometry of the vacuum.

## 4. Exact Implementation Specifications

This section documents the specific mathematical formulas implemented in `src/gemini_physics/signal_processing/padic_synthesis.py` to serve as the rigorous experimental record.

### Phase Modulation ($\\Phi$)
The phase perturbation is confirmed to be **time-varying** and scale-dependent:
$$ \\Phi[n, k] = 2\\pi \\cdot (k+1) \\cdot \\phi_p(n) $$
*   $\\phi_p(n)$: Monna map of time index $n$.
*   Dependence on $n$ ensures spectral broadening (sideband generation).
*   Dependence on $k$ ensures scale-distinct scrambling.

### Amplitude Modulation ($M$)
*   **Phase Mode:** $M[n] = 1.0$ (Constant).
*   **Amp Mode:** Soft modulation based on p-adic norm:
    $$ M[n] = 1.0 + 2.0 \\cdot \\mathbb{I}(|n|_p \\le p^{-k}) $$
*   **Hybrid Mode:** Coupled to valuation norm:
    $$ M[n] = \\sqrt{|n|_p + 0.1} $$

### Singularity Handling ($n=0$)
To prevent infinite valuation artifacts at the origin:
*   **Code Implementation:** `if n == 0: return 0` (for valuation).
*   **Result:** $|0|_p \\to 0.0$, $\\phi_p(0) \\to 0.0$.
*   **Effect:** This effectively treats $t=0$ as a standard point rather than a singularity in the ultrametric topology.

### Aliasing & Scaling
*   **Aliasing:** The code **does not** explicitly clamp $f_k < f_s/2$.
    *   *Constraint:* For $p=137$, user must strictly limit `depth` ($K \\le 2$) to avoid massive aliasing folding.
*   **Scaling (H vs decay):** The code accepts `decay` as a raw parameter.
    *   *Relation:* $\\text{decay} = p^{-H}$.
    *   *Implication:* Varying $p$ while holding `decay` constant **changes the Hurst exponent $H$**. To perform a rigorous \"p-comparison,\" the user must manually adjust `decay` for each $p$.

"""
