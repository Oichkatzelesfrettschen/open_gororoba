# Markdown source migrated to TOML document store.
# This file is generated by migrate_markdown_corpus_to_toml.py.

[document]
id = "DOC-0183"
source_path = "docs/x86_SIMD_OPTIMIZATION.md"
title = "x86 SIMD/FPU Optimization & History Reference"
kind = "manual_source"
status = "active"
migration_priority = "high"
generated = false
source_sha256 = "4b0715db2e7ea00c96b6a70aa23e27f6011d7d2357cc78e7bc722697fdf5e0e9"
source_line_count = 50
source_size_bytes = 2491
content_sha256 = "4b0715db2e7ea00c96b6a70aa23e27f6011d7d2357cc78e7bc722697fdf5e0e9"
migrated_at = "deterministic"
capture_mode = "raw_markdown_capture"
authoritative = false
content_format = "markdown"
content_markdown = """
# x86 SIMD/FPU Optimization & History Reference

**Consolidated Technical Reference**
*Derived from \"PAPER2\" Synthesis*

## 1. Instruction Set Lineage & Math Capabilities

### x87 (The Foundation)
*   **Width:** 80-bit Extended Precision (Scalar).
*   **Key Ops:** `FSIN`, `FCOS`, `FPTAN`, `FYL2X` (Logarithms).
*   **Optimization:** High precision but slow stack management. Requires `FXCH`.

### MMX (The Integer Split)
*   **Width:** 64-bit Packed Integer.
*   **Hazard:** Aliases x87 registers. **MUST** use `EMMS` to clear state before float ops.
*   **Use Case:** Legacy integer math.

### SSE Family (The Modern Baseline)
*   **Registers:** `XMM0` - `XMM15` (128-bit).
*   **SSE1:** Single-precision float (`ADDPS`, `MULPS`). `SFENCE` for store ordering.
*   **SSE2:** Double-precision (`ADDPD`) & Full Integer (`PADDQ`). **Baseline for x86-64**.
*   **SSE3/SSSE3:** Horizontals (`HADDPS`), Shuffle Bytes (`PSHUFB` - crucial for crypto/hashing).
*   **SSE4.1:** Dot Products (`DPPS`), Rounding (`ROUNDPS`), Blends (`BLENDPS`).
*   **SSE4.2:** String/Text (`PCMPESTRM`), CRC32. **Note:** `POPCNT` is a separate CPUID flag!

### AVX (The Doubling)
*   **Registers:** `YMM0` - `YMM15` (256-bit).
*   **Features:** VEX encoding (3-operand: `c = a + b`), Non-destructive.
*   **Hazard:** Mixing AVX/SSE causes state transitions. **MUST** use `VZEROUPPER` when calling SSE code from AVX.

### AVX2 (The Integer Completion)
*   **Features:** 256-bit Integer (`VPADDD`), Gather (`VGATHERDPS`), Permutes (`VPERMPS`).
*   **Status:** The \"Golden Standard\" for modern optimized code (Isomorphic to E8 stability).

## 2. Optimization Dictionary (Algebra <-> Compute)

| Algebraic Operation | SIMD Implementation (AVX2) |
| :--- | :--- |
| **Conjugation** ($z^*$) | `VXORPS` with Sign Mask (0x8000...) |
| **Norm** ($\\|z\\|^2$) | `VDPPS` (Dot Product) or `VMULPS` + `VHADDPS` |
| **Octonion Product** | 8-way SoA Layout + Precomputed Permute Masks (`VPERMPS`) |
| **Zero Divisor Check** | Table-Driven Multiply using `VPGATHERDD` |
| **Fractal Iteration** | Fused Multiply-Add (`VFMADD231PS`) |

## 3. Complexity Metrics ($\\Sigma_C$)
We define Computational Stability $\\Sigma_C$ as:
$$ \\Sigma_C(w) = \\beta_1 (\\text{Encoding Overhead}) + \\beta_2 (\\text{Transition Penalties}) + \\beta_3 (\\text{Mask Density}) $$ 
*   **Goal:** Minimize $\\Sigma_C$ while maximizing Width ($w$).
*   **Sweet Spot:** AVX2 often minimizes $\\Sigma_C$ relative to throughput compared to raw AVX-512 (frequency throttling).

"""
