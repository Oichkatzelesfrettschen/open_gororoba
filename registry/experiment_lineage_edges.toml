# Experiment Lineage Edge Strength Registry (Wave 6, W6-018)
# Normalized semantic relationships between experiments with strength metrics
# Date: 2026-02-10

[metadata]
authoritative = true
updated = "2026-02-10"
source_registry = "registry/experiment_lineage.toml"
purpose = "Normalize edge types between experiments with semantic relationship strength"
schema_version = "experiment_edges_v1"
edge_types = ["derives_from", "extends", "refutes", "complements", "replaces"]

# ---- Edge Type Definitions ----

[edge_type_definitions]

derives_from = """
  Source experiment directly enables target through output/input coupling.
  Strength metric: 0.0-1.0 based on data flow completeness.
  Example: E-001 (motif census) derives E-002 (ultrametric analysis on motif data)
"""

extends = """
  Target experiment builds on methodology of source, expanding scope or dimension.
  Strength metric: 0.0-1.0 based on methodological similarity + scope expansion.
  Example: E-002 (dim=16,32) extends to E-003 (dim=64,128,256)
"""

refutes = """
  Target experiment contradicts or invalidates claims from source.
  Strength metric: 0.0-1.0 based on evidence contradiction severity.
  Example: E-011 (non-commutativity universal) refutes E-007 (commutativity conditional)
"""

complements = """
  Target experiment provides orthogonal validation or cross-check of source results.
  Strength metric: 0.0-1.0 based on orthogonality of methods and alignment of outcomes.
  Example: E-004 (numerical census) complements E-005 (symbolic derivation)
"""

replaces = """
  Target experiment supersedes source with improved methodology or extended validity.
  Strength metric: 0.0-1.0 based on improvement magnitude.
  Example: E-010 (GPE-only) replaced by E-020 (GPE+He3+He4+two-fluid)
"""

# ---- Normalized Edges for Phase 10.3 Experiments ----

[[edge]]
id = "EDGE-00001"
source_experiment = "E-001"
source_title = "Motif Census (Phase 8, dim 16-256)"
target_experiment = "E-023"
target_title = "Composition Algebra Taxonomy (Phase 10.3)"
edge_type = "derives_from"
strength = 0.85
rationale = "E-001 motif component census directly inputs to algebra taxonomy classification"
claim_refs = ["C-485", "C-486", "C-487"]
evidence_coupling = "Output format: motif_census_summary.csv -> Input: algebra family components"
methodological_distance = 0.15
data_flow_completeness = 0.95

[[edge]]
id = "EDGE-00002"
source_experiment = "E-023"
source_title = "Composition Algebra Taxonomy (Phase 10.3)"
target_experiment = "E-024"
target_title = "Quantum Hamiltonian Census (Phase 10.3, hypothetical next)"
edge_type = "complements"
strength = 0.70
rationale = "Algebra taxonomy provides algebraic foundation for quantum system classification"
claim_refs = ["C-646", "C-647"]
orthogonality = 0.65
methodological_similarity = 0.40

[[edge]]
id = "EDGE-00003"
source_experiment = "E-002"
source_title = "Multi-Dataset Ultrametric (GPU, 10M triples)"
target_experiment = "E-023"
target_title = "Composition Algebra Taxonomy (Phase 10.3)"
edge_type = "extends"
strength = 0.72
rationale = "GPU ultrametric analysis extends to algebra classification space"
claim_refs = ["C-071", "C-436", "C-437"]
scope_expansion_factor = 1.5
methodological_continuity = 0.78

[[edge]]
id = "EDGE-00004"
source_experiment = "E-011"
source_title = "Non-Commutativity Universal (CD dim >= 4)"
target_experiment = "E-023"
target_title = "Composition Algebra Taxonomy (Phase 10.3)"
edge_type = "complements"
strength = 0.88
rationale = "Universal commutativity law is core Axis 1 property in taxonomy"
claim_refs = ["C-647", "C-648"]
prediction_accuracy = 1.0
validation_coverage = 0.95

[[edge]]
id = "EDGE-00005"
source_experiment = "E-007"
source_title = "Norm Multiplicativity Parametric (Phase 9)"
target_experiment = "E-023"
target_title = "Composition Algebra Taxonomy (Phase 10.3)"
edge_type = "extends"
strength = 0.81
rationale = "Norm multiplicativity is integrated as universal law (preserved iff division)"
claim_refs = ["C-650"]
scope_expansion = "Parametric to universal"
domain_generalization = 0.85

# ---- Edge Statistics ----

[edge_statistics]
total_edges = 5
derives_from_count = 1
extends_count = 2
complements_count = 2
refutes_count = 0
replaces_count = 0
average_strength = 0.80
high_strength_edges = 3  # >= 0.80
median_strength = 0.82

# ---- Lineage Structure ----

[lineage_structure]
root_experiments = ["E-001", "E-002", "E-011"]  # No incoming derives_from edges
leaf_experiments = ["E-023"]  # Phase 10.3 synthesis experiment
primary_path = "E-001 -> E-023 (derives_from, strength 0.85)"
secondary_paths = [
  "E-002 -> E-023 (extends, strength 0.72)",
  "E-011 -> E-023 (complements, strength 0.88)",
  "E-007 -> E-023 (extends, strength 0.81)"
]
convergence_point = "E-023 (synthesis of Phase 8/9/11 lineage)"

# ---- Validation Gates ----

[validation_gates]
gate_1 = "All edge types must be in [derives_from, extends, refutes, complements, replaces]"
gate_2 = "Strength values must be in [0.0, 1.0] interval"
gate_3 = "source_experiment and target_experiment must exist in experiments.toml"
gate_4 = "No circular edges (DAG constraint on lineage_structure)"
gate_5 = "claim_refs must resolve in registry/claims.toml"
gate_6 = "Edge strength correlates with data_flow_completeness (derives_from) or methodological_similarity (extends)"
