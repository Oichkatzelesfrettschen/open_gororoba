ISSN: 1401-5617

Wheels
â€”
On Division by Zero
Jesper CarlstroÌˆm

Research Reports in Mathematics
Number 11, 2001
Department of Mathematics
Stockholm University

Electronic versions of this document are available at
http://www.matematik.su.se/reports/2001/11
Date of publication: September 10, 2001
2000 Mathematics Subject Classification: Primary 16Y99, Secondary 13B30, 13P99,
03F65, 08A70.
Keywords: fractions, quotients, localization.
Postal address:
Department of Mathematics
Stockholm University
S-106 91 Stockholm
Sweden
Electronic addresses:
http://www.matematik.su.se
info@matematik.su.se

Wheels
â€”
On Division by Zero
Jesper CarlstroÌˆm
Department of Mathematics
Stockholm University
http://www.matematik.su.se/Ëœjesper/

Filosofie licentiatavhandling

Abstract
We show how to extend any commutative ring (or semiring) so that division by any element, including 0, is in a sense possible. The resulting
structure is what is called a wheel. Wheels are similar to rings, but 0x = 0
does not hold in general; the subset {x | 0x = 0} of any wheel is a commutative ring (or semiring) and any commutative ring (or semiring) with
identity can be described as such a subset of a wheel.
The main goal of this paper is to show that the given axioms for wheels
are natural and to clarify how valid identities for wheels relate to valid
identities for commutative rings and semirings.

Contents
1 Introduction
1.1 Why invent the wheel? . . . . . . . . . . . . . . . . . . . . . . . .
1.2 A sketch . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

3
3
4

2 Involution-monoids
7
2.1 Definitions and examples . . . . . . . . . . . . . . . . . . . . . . .
8
2.2 The construction of involution-monoids from commutative monoids 9
2.3 Insertion of the parent monoid . . . . . . . . . . . . . . . . . . . 11
âˆ—
2.4 The role of X in the structure of M X
. . . . . . . . . . . . . . . 12
2.5 The construction as a functor . . . . . . . . . . . . . . . . . . . . 14
3 Applications to semirings
15
3.1 Applications to additive monoids of semirings . . . . . . . . . . . 16
3.2 Applications to multiplicative monoids of commutative semirings 19
4 Wheels
23
4.1 Basic properties . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
4.2 Applications to wheels of fractions . . . . . . . . . . . . . . . . . 27
4.2.1 The semiring in a wheel of fractions . . . . . . . . . . . . 27
4.2.2 Obtaining /-invertible wheels of fractions . . . . . . . . . 28
4.2.3 Axiomatizing the class of wheels of fractions . . . . . . . . 29
4.2.4 Cancellation of zero-terms . . . . . . . . . . . . . . . . . . 30
4.3 Equational logic for wheels of fractions . . . . . . . . . . . . . . . 32
5 Wheel-modules

44

Acknowledgements
I would like to thank Clas LoÌˆfwall for his support during this work. He
followed the process through all of its stages, listening to my vague ideas
and reading many preliminary versions of the manuscript. He put me in
the right direction many times. If anything is easy to grasp in this paper,
it is probably because he asked me to simplify that part and to give some
examples.
I would also like to thank Per Martin-LoÌˆf, who spent many hours
discussing constructive aspects with me. He also read several versions of
the manuscript and gave me many valuable comments, on the content as
well as on how it should be expressed. The first idea, of which wheel
theory is a generalization, originates from him.
Thanks also to JoÌˆrgen Backelin, with whom I discussed possible choices
of axioms, before the final selection was made.

Typeset by LATEX, using Paul Taylorâ€™s package â€˜Commutative Diagramsâ€™.
c 2001 Jesper CarlstroÌˆm
2

1

Introduction

1.1

Why invent the wheel?

The fact that multiplicative inversion of real numbers is a partial function is
annoying for any beginner in mathematics: â€œWho has forbidden division by
zero?â€. This problem seems not to be a serious one from a professional point
of view, but the situation remains as an unaesthetic fact. We know how to
extend the semiring of natural numbers so that we get solutions to equations
like 5 + x = 2, 2x = 3, x 2 = 2, x2 = âˆ’1 etc., we even know how to get
completeness, but not how to divide by 0.
There are also concrete, pragmatic aspects of this problem, especially in connection with exact computations with real numbers. Since it is not in general
decidable whether a real number is non-zero, one canâ€™t in general tell whether
it is invertible. Edalat and Potts [EP00, Pot98] suggested that two extra â€˜numbersâ€™, âˆ = 1/0 and âŠ¥ = 0/0, be adjoined to the set of real numbers (thus
obtaining what in domain theory is called the â€˜liftingâ€™ of the real projective
line) in order to make division always possible. In a seminar, Martin-LoÌˆf proposed that one should try to include these â€˜numbersâ€™ already in the construction
of the rationals from the integers, by allowing not only non-zero denominators,
but arbitrary denominators, thus ending up not with a field, but with a field
with two extra elements. Such structures were called â€˜wheelsâ€™ (the term inspired
by the topological picture of the projective line together with an extra point
0/0) by Setzer [Set97], who showed how to modify the construction of fields of
fractions from integral domains so that wheels are obtained instead of fields.
In this paper, we generalize Setzerâ€™s construction, so that it applies not
only to integral domains, but to any commutative semiring. Our construction
introduces a â€˜reciprocalâ€™ to every element, the resulting structure being what
will be called a â€˜wheel of fractionsâ€™. We use the term â€˜wheelâ€™ in a more general
sense than Setzer, but a wheel in our sense is still a structure in which addition,
multiplication and division can always be performed. A wheel in Setzerâ€™s sense
will be recognized as what we denote by â€˜ S0 Aâ€™, where A is an integral domain,
S0 the subset A \ {0}.1
Beside applications to exact computations, there are other applications to
computer programming: algorithms that split into cases depending on whether
their arguments are zero or not, can sometimes be simplified using a total division function.
We also hope for applications in algebraic geometry. Instead of considering
â€˜rational mapsâ€™ as partial functions from a variety to a field, one may consider
â€˜rational functionsâ€™ from the variety to the wheel extending the field. The set
of all such rational functions is a wheel in our sense (but not in Setzerâ€™s) with
the operations defined point-wise. We say that rational functions are â€˜equal as
mapsâ€™ if they agree on some non-empty Zariski open subset. This is a congruence
relation (it is transitive since the Zariski topology of a variety is irreducible)
and the set of congruence classes is again a wheel â€” the â€˜wheel of rational
mapsâ€™. In the same way, there is a â€˜wheel of regular functionsâ€™. Every regular
function is equal as a map to some rational function. Finally, the most important
1 The notation S will be used for the set of cancellable elements in a monoid, i.e., a âˆˆ
0
S0 means that ax = ay â‡’ x = y for all x, y. When considering semirings, we use the
multiplicative monoid for this definition. In integral domains, we get S0 = A \ {0}.

3

methods in algebraic geometry are the projection onto a quotient of the ring of
functions considered (the geometric interpretation being restricting attention to
a Zariski closed subset of the variety) and the construction of a ring of fractions
(localization in the sense that attention is restricted to what happens near some
Zariski closed subset). Usually, those constructions are formally very different,
even though their interpretations are similar. Using wheels instead of rings,
those two situations are both handled by the same method: by projection onto
a quotient. That suggests possible simplifications when wheels are used instead
of rings.2
Finally, there should be applications to the development of constructive
mathematic, in which total functions are preferred to partial functions. 3

1.2

A sketch

We indicate briefly what the basic ideas are. Proofs and technical verifications
are postponed to the following sections.
The natural way of trying to introduce inverses to all elements of a ring, is to
modify the usual construction of rings of fractions. If A is a commutative ring
with identity, S a multiplicative submonoid of it, then the usual construction is
as follows: Define the relation âˆ¼ S on A Ã— S (here the product is taken in the
category of sets) as
(x, s) âˆ¼S (x0 , s0 )

means âˆƒs00 âˆˆ S : s00 (xs0 âˆ’ x0 s) = 0.

Then âˆ¼S is an equivalence relation and A Ã— S/ âˆ¼ S is a commutative ring with
(the class containing (x, y) is denoted by [x, y])
0 = [0, 1]
1 = [1, 1]
[x, s] + [x0 , s0 ] = [xs0 + x0 s, ss0 ]
[x, s][x0 , s0 ] = [xx0 , ss0 ].
Clearly, 0 canâ€™t be inverted unless 0 âˆˆ S, but if that is the case, then âˆ¼ S is the
improper relation, so that A Ã— S/ âˆ¼ S is trivial.
The obvious thing to try is to replace A Ã— S by A Ã— A. Considering the
multiplicative structure only, AÃ—S is a product of monoids and âˆ¼ S a congruence
relation on it. Let â‰¡S be the congruence relation that is generated on the monoid
A Ã— A by âˆ¼S . Then
(x, y) â‰¡S (x0 , y 0 ) â‡â‡’ âˆƒs, s0 âˆˆ S : (sx, sy) = (s0 x0 , s0 y 0 ).

2 We do not treat algebraic geometry in this paper, but the statements in this paragraph
are rather obvious corollaries of the theory developed. It is also possible to treat the more
general situation of spectrums and schemes.
3 That a function f (think of the inversion of real numbers) is â€˜partialâ€™ on a set A means that
f (x) is defined provided a certain predicate holds for x, say, that P (x) is true. In constructive
type theory [ML84], this is interpreted as that f takes pairs (x, p) as arguments, with x an
element of A and p a proof of P (x). Thus, formally, f is not at all in the usual sense a
partial function, but total on a set of pairs. In that sense, there are no partial functions in
constructive type theory, but the term â€˜partialâ€™ can still be useful as a way of explaining that
one informally thinks of f as defined on some â€˜partâ€™ of A. Since a proof of P (x) is needed
as an argument for f , it is clearly preferable to have f replaced by a total function. That is
a reason for asking for a program of reworking mathematics without partial functions. This
paper is in the line with such a program.

4

We define S A (the wheel of fractions with respect to S) as A Ã— A/ â‰¡ S with
the operations
0 = [0, 1]
1 = [1, 1]
[x, y] + [x , y ] = [xy 0 + x0 y, yy 0 ]
0

0

[x, y][x0 , y 0 ] = [xx0 , yy 0 ]
/[x, y] = [y, x].
This structure is not a ring (unless it is trivial), since 0x = 0 is not valid
in general: with x = [0, 0], we get 0x = [0, 0] which is not equal to [0, 1] unless
0 âˆˆ S, but then â‰¡S is improper and S A is trivial.
The additive structure is a commutative monoid, as well as the multiplicative. However, the group structure of addition is destroyed, since [0, 0] + x = 0
has no solution in non-trivial cases. Instead, one has the formula x âˆ’ x = 0x 2
if x âˆ’ y is defined as x + (âˆ’1)y, where âˆ’1 = [âˆ’1, 1]. Thus x âˆ’ x = 0 is true for
any x with 0x = 0; and in many wheels, there are many such xâ€™s.
The unary operation / is an involution on the multiplicative monoid, i.e.
//x = x and /(xy) = /y/x. We call it the â€˜reciprocalâ€™ operation, with /x being
the â€˜reciprocalâ€™ of x. One does not have x/x = 1 in general, but x/x = 1+0x/x. 4
Wheels of fractions are wheels, abstractly defined as follows.
Definition 1.1 (wheel). A wheel is a structure hH, 0, 1, +, Â·, /i in which the
following holds:
hH, 0, +i is a commutative monoid

hH, 1, Â·, /i is a commutative monoid with involution /

(1)
(2)

Distributivity
(x + y)z + 0z = xz + yz
x
x + yz
+ z + 0y =
y
y

(3)
(4)

Rules for zero-terms
0Â·0=0

(5)

(x + 0y)z = xz + 0y
/(x + 0y) = /x + 0y

(6)
(7)

x + 0/0 = 0/0.

(8)

Here, H is a set (we will use the same symbol for the wheel), 0 and 1 are
constants, + and Â· are binary operations and / is a unary operation. We often
omit the dot for multiplication and we sometimes write xy for x/y. The usual
priority rules apply: lower -arity gives higher priority and multiplication is prior
to addition.
4 That x/x = 1 is not in general true, is the reason why we avoid the notation xâˆ’1 for
/x. The reciprocal should be thought of as a unary version of division, like negation is a
unary version of subtraction. The unary negation corresponds to the binary subtraction by
x âˆ’ y = x + (âˆ’y) and âˆ’y = 0 âˆ’ y. In the same way, there is a correspondence between the
unary reciprocal and the binary division by x/y = x(/y) and /y = 1/y.

5

Note that the usual rule â€˜0x = 0â€™, which states that â€œzero-terms can be
erasedâ€, is replaced by rules stating that zero-terms can be moved in certain
ways in an expression. Indeed, (6) and (7) state that addition by a zero-term
commutes with multiplication and reciprocal, so that if a zero-term occurs somewhere inside an expression, then it can be moved outside.
Example 1.2. ((x+4+0y)(2+0z)+0x)(2+0z) = ((x+4)2)2+0x+0y+0z +0z.
As a derived rule (rule (10) on page 24), we have 0x + 0y = 0xy, so that
several zero-terms can be merged together in one.
Example 1.3. 0x + 0y + 0z + 0z = 0xyz 2 .
The distributivity rule (3) looks different from the usual one, since we have
a zero-term on the left-hand side. But it reduces to the usual rule when 0z = 0.
Since e.g. 0 Â· 2 = 0, 5 we have (x + y)2 = x2 + y2 and hence we get from the
examples above that ((x + 4 + 0y)(2 + 0z) + 0x)(2 + 0z) = 4x + 16 + 0xyz 2 .
Some examples of wheels of fractions are (we list only the underlying sets):
1.

Z\{0} Z = Q âˆª {/0, 0/0}.

2.

A A = {0}. This is the trivial wheel.

3.

{1} (Z/2Z) = {0, 1, /0, 0/0}.

4.

{1} Z, the set of fractions of integers where no identifications are made.
Hence two fractions are regarded as equal only if they have the same
numerators and the same denominators.

5.

{1,3} (Z/4Z) = {0, 1, 2, 3, /0, /2, 0/0, 0/2, 2/0, 2/2}. Note that this wheel
extends the ring Z/4Z with six new elements. Thus, it is possible for such
an extension to have more â€œnewâ€ elements than â€œoldâ€ ones.

6.

S0 A, where S0 = {x âˆˆ A | xy = xz â‡’ y = z}, is the â€˜total wheel
of fractionsâ€™. It contains the well-known total ring of fractions as the
subset {x | 0x = 0}. Moreover, S0 A is what we will call â€˜/-invertibleâ€™:
if xy = 1, then y = /x. Hence / can be used to compute multiplicative
inverses whenever such exist.

7.

U A, where U is the set of units in A, is /-invertible and the subset
{x | 0x = 0} is an isomorphic copy of A. This shows that A can be
extended to a /-invertible wheel in a structure-preserving way (as opposed
to the construction of a total wheel of fractions, which often kills a lot of
ideals).

An advantage of wheels as compared to rings is that several rules that are
valid in rings only in special cases, will have counterparts that are generally
valid in wheels. One example is the rule
xz = yz âˆ§ z 6= 0 â‡’ x = y
of integral domains, whose general counterpart for wheels is
xz = yz â‡’ x + 0z/z = y + 0z/z

5 0(1 + 1) = 0(1 + 1) + 0 Â· 0 = 0 Â· 1 + 0 Â· 1 = 0 + 0 = 0.

6

(derived rule (13) on page 24).
Since any ring can be extended to a wheel in a structure-preserving way, one
may always switch to wheel theory if one likes, even if one works with a problem
which originates from a context of rings. Suppose for instance that a, b, c are
elements of a ring A and that we have concluded that
ac = bc.
We may then think of a, b, c as elements of a /-invertible wheel that extends A
and use 0c = 0, concluding that
a + 0/c = b + 0/c.
This does always make sense. Additional information about c can later be used
to go further in the calculation.
We arrived at wheels of fractions by a modification of a well-known construction, and it was by no means clear that the chosen construction yields the
best result. We will however show that, in a certain sense, this construction is
very natural. We do that in the following steps.
First, we forget the operations 0 and + of the ring we started with, so that
we are left with the multiplicative monoid. We show that the construction can
be carried out in this setting, and that it solves a universal problem for monoids.
This shows that it is very natural from the point of view of the multiplicative
monoid. We then show that there is a unique way of defining 0 and + such that
the construction is functorial from the category of semirings to the category of
â€˜weak wheelsâ€™, which is a very general category. That unique way is precisely
the one described above.
Convention. Any category with structures as objects is assumed
to have algebraic morphisms as arrows, i.e., mappings that preserve
all operations, including constants which are to be viewed as nullary
operations.

2

Involution-monoids

The construction sketched in the previous section was motivated by a wish
to make certain changes to the multiplicative monoid of a commutative ring.
Fortunately, it turns out that the construction is compatible with the additive
structure too, but that is not needed for the construction to be made. In fact,
if one forgets about the additive structure and treats the multiplicative monoid
only, then the construction becomes even more natural. A few sections will
therefore be devoted to a study of commutative monoids. In this context, the
motivation from the previous section amounts to the following.
Every monoid M comes with a partial inversion function, defined on the
group of units in M . M can be extended to a group only when every element of
it is cancellable. However, we will show that if M is commutative, then it can
always be extended to a commutative monoid with an involution âˆ—, such that
the partial inversion function of M is the restriction of âˆ—. This will follow as an
application of the more general construction given below.

7

2.1

Definitions and examples

We use the following notion of involution, the canonical example being the
inverse of a group.
Definition 2.1 (involution). An involution on M is a mapping âˆ— : M â†’ M
such that
xâˆ—âˆ— = x
(xy)âˆ— = y âˆ— xâˆ— .
Note that eâˆ— = e for the identity e, since e âˆ— = eeâˆ— = eâˆ—âˆ— eâˆ— = (eeâˆ— )âˆ— =
e = e. Therefore, an involution is a homomorphism M op â†’ M . If M is
commutative, then an involution is precisely an automorphism of order 2.
âˆ—âˆ—

Definition 2.2 (involution-monoid). An involution-monoid is a pair hM, âˆ—i
where M is a monoid and âˆ— an involution on it. A morphism of involutionmonoids Ï• : hM, âˆ—i â†’ hN, ?i is a monoid morphism M â†’ N with Ï•(xâˆ— ) = Ï•(x)?
for every x.
Example 2.3.

1. A group with x âˆ— = xâˆ’1 .

2. An abelian group (or any commutative monoid) with âˆ— being the identity
morphism.
3. The multiplicative monoid of a field together with
(
0
(x = 0)
xâˆ— =
âˆ’1
x
(x 6= 0).
Note however that this definition is constructive only if x = 0 is decidable.
That is not the case in e.g. R.
4. The monoid of n Ã— n matrices with âˆ— being transposition.
5. The monoid of strings from a given alphabet (e being the empty string
and the composition being concatenation) with x âˆ— being the string x in
reversed order.
As is seen, involutions can sometimes be used as approximations of inversion
functions. We therefore use the following different notions of inversion.
Definition 2.4. Let hM, âˆ—i be an involution-monoid.
1. An element x âˆˆ M is invertible or a unit if there exists a y âˆˆ M with
xy = yx = e. This is the ordinary notion for monoids and we use the
ordinary notation xâˆ’1 for the element with xxâˆ’1 = xâˆ’1 x = e. We call
xâˆ’1 the multiplicative inverse of x.
2. An element x âˆˆ M is âˆ—-invertible or a âˆ—-unit if xxâˆ— = xâˆ— x = e (hence
âˆ—-units are units).
3. hM, âˆ—i is said to be âˆ—-invertible if all units are âˆ—-invertible, i.e., if xâˆ’1 = xâˆ—
whenever xâˆ’1 is defined.
Example 2.5. â€˜Orthogonalâ€™ is a more common term for âˆ—-invertible n Ã— nmatrixes.
8

2.2

The construction of involution-monoids from commutative monoids
From now on, M is assumed to be a commutative monoid and X a
subset of it. S is assumed to be the submonoid generated by X, i.e.,
S consists of all finite products of elements of X (e being the empty
product). Variables s, s0 , s00 , . . . , s0 , s1 , . . . are assumed to vary over
S when nothing else is stated.

The ordinary construction of commutative monoids of fractions is precisely
like that of commutative rings of fractions, except that one needs a minor
modification to take care of the fact that no subtraction is present. Bourbaki [Bou73] defines M X as the monoid M Ã— S/ âˆ¼ S , where (m, s) âˆ¼S (m0 , s0 )
means âˆƒs00 : s00 ms0 = s00 m0 s0 . That construction solves the following universal
problem:
Find a monoid MX with Î¹(M,X) : M â†’ MX , having the property
that whenever Ï• : M â†’ N is a monoid-morphism with Ï•(x) a
unit for every x âˆˆ X, then there is a unique Ï•Ì‚ : M X â†’ N with
Ï• = Ï•Ì‚ â—¦ Î¹(M,X) .
MX
Î¹(M,X)
M



@
@ Ï•Ì‚
@
@
R
@
Ï•
- N

Informally, one asks that the elements of a subset X should â€˜turn into unitsâ€™
when mapped into N and defines MX to be universal with that property. Bourbaki does not assume that N is commutative, but the generality is somewhat
illusory, since the homomorphic image of a commutative monoid is again commutative. Since everything takes place inside the image of M , one has all
commutativity that is needed. One could therefore as well require that N be
commutative and handle a morphism M â†’ N 0 (N 0 not commutative) by letting
N be the image, factorizing the morphism as M â†’ N â†’ N 0 .
An analogue for involution-monoids is to ask that the elements x âˆˆ X should
â€˜turn into ?-unitsâ€™ when mapped into an involution-monoid hN, ?i. Formally, we
state it as follows, with T denoting the forgetful functor taking the monoid out of
an involution-monoid. Motivated by the arguments in the previous paragraph,
we assume that N is commutative.6
Let M be a commutative monoid and X an arbitrary subset of M .
âˆ—
âˆ—
Then find an involution-monoid M X
with Î·(M,X) : M â†’ T (MX
),
having the property that whenever hN, ?i is a commutative involution-monoid and Ï• : M â†’ N a monoid-morphism with Ï•(x)Ï•(x)? =
âˆ—
Ï•(x)? Ï•(x) = e for every x âˆˆ X, then there is a unique Ï•Ì‚ : M X
â†’
hN, ?i with Ï• = T (Ï•Ì‚) â—¦ Î·(M,X) .

6 In our situation, this requirement is really essential, since we do not any longer work
inside the image of M , but in the generated involution-monoid, which is not automatically
commutative.

9

âˆ—
T (MX
)

Î·(M,X)
M



@
@ T (Ï•Ì‚)
@
@
R
@
Ï•
- N

âˆ—
We show how to find MX
. Consider the involution-monoid hM Ã— M, âˆ—i
âˆ—
where (x, y) = (y, x) and define â‰¡S on it by

(x, y) â‰¡S (x0 , y 0 ) means âˆƒs1 , s2 : (s1 , s1 )(x, y) = (s2 , s2 )(x0 , y 0 ).
Then â‰¡S is clearly reflexive and symmetric, but it is also transitive, since if
(s1 , s1 )(x, y) = (s2 , s2 )(x0 , y 0 ) and (s3 , s3 )(x0 , y 0 ) = (s4 , s4 )(x00 , y 00 ), then it follows that (s1 s3 , s1 s3 )(x, y) = (s2 s4 , s2 s4 )(x00 , y 00 ). It is easily seen that â‰¡S preserves the operations, so that it is in fact a congruence relation. The congruence
class containing (x, y) will be denoted by [x, y].
âˆ—
âˆ—
Definition 2.6. Let M X
= hM Ã— M, âˆ—i / â‰¡ S , and let Î·(M,X) : M â†’ T (MX
) be
defined by x 7â†’ [x, e].

Theorem 2.7 (solution to the universal problem). Suppose hN, ?i is a
commutative involution-monoid and Ï• : M â†’ N a monoid-morphism. Then
âˆ—
Ï•Ì‚([x, y]) = Ï•(x)Ï•(y)? defines a morphism of involution-monoids MX
â†’ hN, ?i
and if Ïˆ is such a morphism too, then Ï• = T (Ïˆ) â—¦ Î·(M,X) if and only if Ïˆ = Ï•Ì‚.
Proof. We first prove uniqueness of Ïˆ. In order for it to extend Ï•, we must
have
Ïˆ([x, y]) = Ïˆ([x, e][y, e]âˆ— ) = Ïˆ([x, e])Ïˆ([y, e])? = Ïˆ(Î·(M,X) (x))Ïˆ(Î·(M,X) (y))?
= Ï•(x)Ï•(y)? .
Hence, Ï•Ì‚ is the only candidate. It is well-defined, since if [x, y] = [x 0 , y 0 ] then
there are s1 , s2 with (s1 , s1 )(x, y) = (s2 , s2 )(x0 , y 0 ) and therefore
Ï•(x)Ï•(y)? = Ï•(x)eÏ•(y)? = Ï•(x)Ï•(s1 )Ï•(s1 )? Ï•(y)? = Ï•(xs1 )Ï•(ys1 )?
= Ï•(x0 s2 )Ï•(y 0 s2 )? = Ï•(x0 )Ï•(s2 )Ï•(s2 )? Ï•(y 0 )? = Ï•(x0 )eÏ•(y 0 )?
= Ï•(x0 )Ï•(y 0 )? .
It is a monoid-morphism since
Ï•Ì‚([x, y][x0 , y 0 ]) = Ï•Ì‚([xx0 , yy 0 ]) = Ï•(xx0 )Ï•(y 0 y)? = Ï•(x)Ï•(x0 )Ï•(y)? Ï•(y 0 )?
= Ï•(x)Ï•(y)? Ï•(x0 )Ï•(y 0 )? = Ï•Ì‚([x, y])Ï•Ì‚([x0 , y 0 ])
and
Ï•Ì‚([e, e]) = Ï•(e)Ï•(e)? = ee? = e.
It preserves the involution since
Ï•Ì‚([x, y]âˆ— ) = Ï•Ì‚([y, x]) = Ï•(y)Ï•(x)? = Ï•(y)?? Ï•(x)? = (Ï•(x)Ï•(y)? )?
= Ï•Ì‚([x, y])? .

10

2.3

Insertion of the parent monoid

The mapping Î·(M,X) differs from the usual Î¹(M,X) only in the choice of codomain,
âˆ—
since we will see in theorem 2.10 that M X is included in MX
. Hence, many
properties of Î¹ carry over to Î·. One such is that Î· (M,X) is not in general injective.
Proposition 2.8. Î· (M,X) (a) = Î·(M,X) (b) iff there is some s âˆˆ S with sa = sb.
Proof.
[a, e] = [b, e]
âˆƒs1 , s2 : (s1 , s1 )(a, e) = (s2 , s2 )(b, e)

â‡â‡’

â‡â‡’

âˆƒs : sa = sb.

Corollary 2.9. Î·(M,X) is injective iff every x âˆˆ X is cancellable.
Proof. If every x âˆˆ X is cancellable, then every s âˆˆ S is too, since S is generated
by X. Hence sa = sb â‡’ a = b and the rest follows from the proposition.
It is convenient to use the same symbol for an element of a monoid M and
its image under Î·(M,X) , even when Î·(M,X) is not injective (remembering that
âˆ—
lack of injectivity means that equality in M X
need not imply equality in M ).
We will use that notation frequently. In particular, it allows us to write xy âˆ—
instead of [x, y].
âˆ—
Theorem 2.10. The homomorphism Î·Ì‚(M,X) : MX â†’ T (MX
), induced by
Î·(M,X) according to the universal property of MX , is injective.

MX
Î¹(M,X)
M



@
@ Î·Ì‚(M,X)
@
@
R
@
Î·(M,X)
- T (M âˆ— )
X

Proof. This is best seen in a very concrete way, examining how the constructions
âˆ—
of MX and MX
are related.
Let âˆ¼S be the restriction of â‰¡S to M Ã— S. Then
(x, s) âˆ¼S (x0 , s0 ) â‡â‡’ âˆƒs00 : s00 xs0 = s00 x0 s,
because on the one hand, if s00 xs0 = s00 x0 s, then we have
(s00 s0 , s00 s0 )(x, s) = (s00 xs0 , s00 ss0 ) = (s00 x0 s, s00 ss0 ) = (s00 s, s00 s)(x0 , s0 )
and on the other, if (s1 , s1 )(x, s) = (s2 , s2 )(x0 , s0 ), then
s1 xs0 = s2 x0 s0 = s1 x0 s.

11

Since âˆ¼S is a restriction of â‰¡ S , it follows that the mapping M Ã— S/ âˆ¼ S â†’
M Ã— M/ â‰¡S is injective. This mapping is clearly Î·Ì‚ (M,X) .
M Ã—S âŠ‚

- M Ã—M

?
?
M Ã— S/ âˆ¼S

?
?
- M Ã— M/ â‰¡S

âˆ—
We therefore regard M X as a submonoid of T (M X
).

2.4

The role of X in the structure of MXâˆ—

âˆ—
When exploring possible structures of M X
, we donâ€™t have to consider arbitrary
âˆ—
subsets X, but only submonoids S, since M X
= MSâˆ— when S is the submonoid
generated by X. When comfortable, we may even restrict our attention to a
special class of submonoids: those â€œclosed under divisionâ€.

Definition 2.11. A submonoid S of M is closed under division if it holds that
sx âˆˆ S â‡’ x âˆˆ S.

(s âˆˆ S, x âˆˆ M )

Definition 2.12. The divisional closure of a submonoid S of M is the smallest
submonoid of M that contains S and is closed under division.
Lemma 2.13. SÌƒ = {x âˆˆ M | âˆƒs : sx âˆˆ S} is the divisional closure of S.
Proof. Since es âˆˆ S, we have s âˆˆ SÌƒ and hence S âŠ‚ SÌƒ.
It is obvious that SÌƒ cannot be smaller, the question is whether it is closed
under multiplication and division. Suppose x, y âˆˆ SÌƒ, say s1 x, s2 y âˆˆ S. Then
(s1 s2 )(xy) âˆˆ S, so that xy âˆˆ SÌƒ. Hence it is a submonoid of M .
To see that it is closed under division, suppose that sÌƒx âˆˆ SÌƒ, with sÌƒ âˆˆ SÌƒ.
Then there is an s with s(sÌƒx) âˆˆ S. But there is also an s 0 such that s0 sÌƒ âˆˆ S.
Then ss0 sÌƒ âˆˆ S and (ss0 sÌƒ)x = (ss0 )(sÌƒx) âˆˆ S, so that x âˆˆ SÌƒ.
This is an algebraic closure operator (in the sense of e.g. [BS81]).
âˆ—
Proposition 2.14. M X
= MSâˆ— = MSÌƒâˆ— (they are identical as sets and have
identical operations).
âˆ—
Proof. It is clear by definition of MX
that it is identical to MSâˆ— . We prove
âˆ—
âˆ—
MS = MSÌƒ .
Suppose that [x, y] = [x0 , y 0 ] in MSâˆ— , say (s1 , s1 )(x, y) = (s2 , s2 )(x0 , y 0 ).
Then, since S âŠ‚ SÌƒ, [x, y] = [x0 , y 0 ] in MSÌƒâˆ— . On the other hand, suppose
[x, y] = [x0 , y 0 ] in MSÌƒâˆ— , say (x1 , x1 )(x, y) = (x2 , x2 )(x0 , y 0 ) with x1 , x2 âˆˆ SÌƒ.
Then there are by definition of SÌƒ some s1 , s2 âˆˆ S with s1 x1 , s2 x2 âˆˆ S. Hence
((s1 x1 )s2 , (s1 x1 )s2 )(x, y) = (s1 (s2 x2 ), s1 (s2 x2 ))(x0 , y 0 ), which means that [x, y]
= [x0 , y 0 ] in MSâˆ— .
Thus MSâˆ— and MSÌƒâˆ— are identical as sets. Their operations are identical since
they are defined in the same way.

12

We now investigate the connection between the involution of M Sâˆ— and the
partial inversion function on its underlying monoid.
Proposition 2.15. Î· (M,X) (x) is âˆ—-invertible if and only if x belongs to the
divisional closure of the submonoid S generated by X.
Proof. Let x âˆˆ SÌƒ, say sx = s0 âˆˆ S. Then (s, s)(x, x) = (s0 , s0 )(e, e), so that
xxâˆ— = e in MSâˆ— .
On the other hand, suppose xxâˆ— = e in MSâˆ— , say (s, s)(x, x) = (s0 , s0 )(e, e).
Then sx = s0 âˆˆ S, so that x âˆˆ SÌƒ.
In particular, we will often (and without explanation) use that ss âˆ— = e for
any s âˆˆ S.
Definition 2.16. A submonoid S âŠ‚ M is saturated if xy âˆˆ S â‡’ x, y âˆˆ S.
Example 2.17. The group of units is saturated as a subset of M .
Example 2.18. Let S 0 = {x âˆˆ A | xy = xz â‡’ y = z}. It is saturated as a
subset of M . We call it â€œthe submonoid of cancellable elementsâ€.
Proposition 2.19. M Sâˆ— is âˆ—-invertible if and only if SÌƒ is saturated in M .
Proof. By proposition 2.14 we may assume that S = SÌƒ.
Suppose that S is saturated and that [a, b] is a unit in M Sâˆ— , say [a, b][a0 , b0 ] =
e, which is to say that (s1 , s1 )(aa0 , bb0 ) = (s2 , s2 )(e, e) for some s1 , s2 . Then
s1 aa0 = s1 bb0 = s2 âˆˆ S, so that a, b âˆˆ S by saturation. Hence ab âˆˆ S so that
[a, b][a, b]âˆ— = [ab, ab] = e.
Suppose on the other hand that every unit is âˆ—-invertible and take xy âˆˆ S.
We shall prove x âˆˆ S. In MSâˆ— , x is a unit with xâˆ’1 = y(xy)âˆ— , but then it is
âˆ—-invertible by assumption, so that y(xy) âˆ— = xâˆ— . That means that there are
s1 , s2 with (s1 , s1 )(y, xy) = (s2 , s2 )(e, x), in particular s2 x = s1 (xy). But xy
was taken from S, so we conclude that s 2 x âˆˆ S and hence that x âˆˆ SÌƒ. Since
we have assumed that S = SÌƒ, we get x âˆˆ S. A similar argument proves that
y âˆˆ S.
Corollary 2.20. Let U be the group of units in M . Then MUâˆ— is âˆ—-invertible and
it contains M as a submonoid (this solves the problem of finding an extension of
M together with an involution extending the partial inversion function of M ).
Proof. Since U is saturated, MUâˆ— is âˆ—-invertible by the previous proposition. By
corollary 2.9, Î· (M,U ) is injective, since units are cancellable.
Proposition 2.21. The restriction to M of the involution of MUâˆ— , is the partial
inversion function of M .
Proof. The restriction of âˆ— to M extends the partial inversion function since M Uâˆ—
is âˆ—-invertible. We shall prove that if x, y âˆˆ M with y = x âˆ— in MUâˆ— , then xy = e.
Suppose therefore that x, y âˆˆ M and that y = x âˆ— . The latter means that there
are units u1 , u2 âˆˆ M with (u1 , u1 )(y, e) = (u2 , u2 )(e, x), but then u2 x = u1 , so
that x âˆˆ U . Hence xxâˆ— = e, thus xy = e.

13

2.5

The construction as a functor

âˆ—
We may turn the construction (M, X) 7â†’ M X
into a functor F in the following
way.
Let C be the category of pairs (M, X) where M is a commutative monoid
and X a subset of M . A C-arrow (M, X) â†’ (M 0 , X 0 ) is a monoid-morphism
âˆ—
Ï• : M â†’ M 0 with Ï•(X) âŠ‚ X 0 . Define F (M, X) to be MX
and F (Ï•) to be
the mapping [x, y] 7â†’ [Ï•(x), Ï•(y)]. It is well-defined since if [x, y] = [x0 , y 0 ],
then there are s1 , s2 such that (s1 , s1 )(x, y) = (s2 , s2 )(x0 , y 0 ). Since Ï•(X) âŠ‚ X 0 ,
it follows that Ï•(s1 ) and Ï•(s2 ) are elements of the submonoid generated by
X 0 . Since (Ï•(s1 ), Ï•(s1 ))(Ï•(x), Ï•(y)) = (Ï•(s2 ), Ï•(s2 ))(Ï•(x0 ), Ï•(y 0 )), it follows
that [Ï•(x), Ï•(y)] = [Ï•(x0 ), Ï•(y 0 )]. It is easily seen that F (Ï•) is a morphism of
involution-monoids. It is now easy to check that F is a functor from C to the
category CInvMon of commutative involution-monoids.

Proposition 2.22. F has a right adjoint G, which is defined on objects by
hM, âˆ—i 7â†’ (M, X), with X the set of âˆ—-units in hM, âˆ—i, and on morphisms by
Î± 7â†’ T (Î±). Î· is a natural transformation from the identity to GF and it is the
unit of the adjunction. The counit is  with hM,âˆ—i : [x, y] 7â†’ xy âˆ— .
Proof. Î·(M,X) maps X into the set U of âˆ—-units, thus is a C-arrow (M, X) â†’
âˆ—
T (MX
, U ). The naturalness is obvious.
We have to prove that
(F )(M,X) (F Î·)(M,X) = IdMXâˆ—
and
(G)hM,âˆ—i (Î·F )hM,âˆ—i = IdG(hM,âˆ—i) .
âˆ—
âˆ—
(F )(M,X) : F G(MX
) â†’ MX
by [[x, y], [z, w]] 7â†’ [xw, yz]

âˆ—
âˆ—
(F Î·)(M,X) : MX
â†’ F G(MX
) by [x, y] 7â†’ [[x, e], [y, e]]
(G)H : GF G(hM, âˆ—i) â†’ G(hM, âˆ—i) by [x, y] 7â†’ xyâˆ—

(Î·G)H : G(hM, âˆ—i) â†’ GF G(hM, âˆ—i) by x 7â†’ [x, e]
Then

(F )(M,X) (F Î·)(M,X) ([x, y]) = (F )(M,X) ([[x, e], [y, e]]) = [xe, ye] = [x, y]
and

(G)hM,âˆ—i (Î·G)hM,âˆ—i (x) = (G)hM,âˆ—i ([x, e]) = xeâˆ— = x.

âˆ—
Î·Ì‚(M,X) is a transformation from M X to T (MX
), natural in (M, X).

Remark. Involutions on monoids hM, 0, +i will throughout be denoted by âˆ’. We write âˆ’x for xâˆ— in this case. Further, we write x âˆ’ y
for x + (âˆ’y).
Involutions on monoids hM, 1, Â·i will throughout be denoted by /.
We write /x for xâˆ— in this case. Further, we write x/y for x Â· (/y).

14

3

Applications to semirings

The consideration of commutative monoids leads naturally to consideration of
semirings in the sense of e.g. Golan [Gol99] (we define this notion below, the
word â€˜semiringâ€™ has no uniform meaning in the literature), in the following way.
When addition has been defined on the natural numbers, turning N into
a commutative monoid, one finds that N can be used to add, not only finite
collections of elements, but also finite collections of equally large finite collections
of elements. This motivates the introduction of multiplication on N.
The argument in the previous paragraph is an elementary way of saying
that N can be viewed as its own endomorphism monoid with multiplication
being composition. The combination with addition turns N into a semiring.
In general, suppose that M = hM, 0, +i is a commutative monoid. Then its
monoid End(M ) of endomorphisms has a natural additive structure inherited
from M by
0(x) = 0,
(f + g)(x) = f (x) + g(x).
These definitions make End(M ) a semiring.
Definition 3.1. A semiring is a structure hM, 0, 1, +, Â·i such that
1. hM, 0, +i is a commutative monoid.
2. hM, 1, Â·i is a monoid.
3. (x + y)z = xz + yz and x(y + z) = xy + xz.
4. 0x = x0 = 0.
We do not exclude the trivial case 0 = 1.
If there is a solution a to the equation 1 + x = 0 in a semiring A, then we
may define âˆ’x = ax and we get x + (âˆ’x) = 1x + ax = (1 + a)x = 0x = 0, so
that A is a ring in this case.
Beside the important example End(M ), we have many mathematical structures that are semirings, for instance:
1. Any ring with identity.
2. The (left or right) ideals of a ring, with I + J defined to be {i + j | i âˆˆ
I, j âˆˆ J} and IJ defined to be the (left or right) ideal generated by
{ij | i âˆˆ I, j âˆˆ J}. 0 is the trivial ideal and 1 is the improper ideal.
3. Any bounded distributive lattice, e.g. Heyting algebras and Boolean algebras. Here h0, 1, +, Â·i is hâŠ¥, >, âˆ¨, âˆ§i.
We need some definitions, which are taken from [Gol99], except that we
use the word â€˜moduleâ€™ for what there is called â€˜semimoduleâ€™. The reason for
this choice is that â€˜moduleâ€™ is shorter and we see no point in distinguishing
the notions since if A happens to be a ring, then an A-module in the following
sense is automatically an A-module in the sense of rings, since if we define
âˆ’m = (âˆ’1)m, then m + (âˆ’m) = (1 + (âˆ’1))m = 0m = 0.
15

Definition 3.2. Let A be a semiring. A left A-module is a commutative monoid
hM, 0, +i with multiplication by A-elements to the left defined (formally, a function AÃ—M â†’ M written (a, m) 7â†’ am) such that for any a, a0 âˆˆ A, m, m0 âˆˆ M ,
(aa0 )m = a(a0 m)
1m = m
(a + a0 )m = am + a0 m
a(m + m0 ) = am + am0
0m = 0
a0 = 0
where 0 to the left is in A, while 0 to the right or alone is in M .
Every commutative monoid hM, e, Â·i is an N-module with the multiplication
(n, m) 7â†’ mn . This is in analogy with the fact that every abelian group is a
Z-module.
Definition 3.3. A left ideal of A is a left A-module inside A; i.e., it is a
submonoid of the additive monoid of A and it is closed under multiplication to
the left by any element from A.7
The notions of right A-module and right ideal are defined analogously.

3.1

Applications to additive monoids of semirings

We show how our construction can be used for extending a semiring so that an
additive involution âˆ’ can be defined on the result. The process is similar to the
construction of Z from N, but it does not need that all elements are additively
cancellable.
The idea is that we first apply our construction to the additive monoid, then
defining multiplication on the result.
Suppose that hA, 0, +i is the additive monoid of a semiring A and that X is
a subset. Let S be the right ideal generated by X; i.e., S consists of all finite
sums
X
xi ai
(xi âˆˆ X, ai âˆˆ A).
i

âˆ—

We use the construction hA, 0, +iS , given in section 2.2, writing âˆ’x for x âˆ— .
âˆ—
In section 2.2, we noted that each element of M X
is of the form xy âˆ— for x, y âˆˆ M ;
the corresponding statement now is that each element is of the form x + (âˆ’y),
which will be written as xâˆ’y. Such elements xâˆ’y and x0 âˆ’y 0 (with x, y, x0 , y 0 âˆˆ
A) are equal when there exists s, s 0 with (s, s)+(x, y) = (s0 , s0 )+(x0 , y 0 ) in AÃ—A
(in particular, 1âˆ’1 = 0 holds precisely when there is some s such that s+1 âˆˆ S,
see proposition 2.15).
We now define a â€˜multiplicationâ€™ by
(x âˆ’ y)(z âˆ’ w) = (xz + yw) âˆ’ (xw + yz).

(x, y, z, w âˆˆ A)

7 We accept improper ideals, which [Gol99] does not. This is natural since we accept trivial

semirings.

16

It is well-defined, since if x âˆ’ y = x0 âˆ’ y 0 , then there are s, s0 âˆˆ S with (s, s) +
(x, y) = (s0 , s0 ) + (x0 , y 0 ) in A Ã— A, so that
(sx0 + sy 0 , sx0 + sy 0 ) + (xz + yw, xw + yz)
= ((s + x)z + (s + y)w, (s + x)w + (s + y)z)
= ((s0 + x0 )z + (s0 + y 0 )w, (s0 + x0 )w + (s0 + y 0 )z)
= (s0 z + s0 w, s0 w + s0 z) + (x0 z + y 0 w, x0 w + y 0 z)
and since S is a right ideal, sx 0 + sy 0 âˆˆ S and s0 z + s0 w âˆˆ S. Hence (xz + yz) âˆ’
(xw + yz) = (x0 z + y 0 z) âˆ’ (x0 w + y 0 z).
The structure obtained, together with the constant 1, will be denoted by A âˆ’
X.
It is clearly a semiring: indeed, it is a quotient of A âˆ’
âˆ… which is the â€˜convolution
algebraâ€™, or â€˜monoid-semiringâ€™, on A defined by the monoid {1, âˆ’1}. 8 A natural
morphism Î·(A,X) : A â†’ Aâˆ’
X is given by Î·(A,X) (x) = Î·(hA,0,+i,X) (x) = x.
Example 3.4. Z = N âˆ’
N.
Example 3.5. An example when 1 âˆ’ 1 6= 0 is obtained by thinking of machines
not capable of counting with elements larger than the natural number N .
Let âˆ¼ be defined on N as â€œequal or largeâ€, formally:
xâˆ¼y

means x = y âˆ¨ (x â‰¥ N âˆ§ y â‰¥ N ).

Then âˆ¼ is a congruence relation and N/âˆ¼ consists of N + 1 elements. Since
no element except 0 is additively cancellable, we canâ€™t introduce an additive
inverse, but we may construct (N/âˆ¼) âˆ’
âˆ… , in which 1 âˆ’ 1 6= 0.
Now, consider (N/âˆ¼) Ã— (Z/7Z) (it can be thought of as a data structure with
elements being pairs representing numbers together with a day of the week). An
element (x, y) of it is additively cancellable if and only if x = 0. Let S 0 be the
set of such elements. It holds in ((N/âˆ¼) Ã— (Z/7Z))âˆ’
S0 that (0, x) âˆ’ (0, x) = 0,
but not that 1 âˆ’ 1 = 0.
Example 3.6. Let N âˆ be N extended with an element âˆ with
x+âˆ=âˆ+x=âˆ
(
0 (x = 0)
xâˆ = âˆx =
âˆ (x 6= 0).
This notion of infinity differs from that in the introduction, since here we have
0âˆ = 0, while we had 0âˆ = âŠ¥ in the introduction.
Nâˆ is clearly a semiring, thus we may construct (N âˆ )âˆ’
X . However, if a âˆˆ X
for some a 6= 0, then âˆ is an element of the right ideal generated by X, hence
0 0
0 0
(Nâˆ )âˆ’
X is trivial, since (âˆ, âˆ) + (x, y) = (âˆ, âˆ) + (x , y ) for all x, y, x , y .
Hence, if we want non-triviality, we need to take X âŠ‚ {0}, ending up with the
structure (Nâˆ )âˆ’
âˆ… . In that structure, x âˆ’ x = 0 is true only for x = 0.
âˆ’
The operation âˆ’ makes A âˆ’
X a semiring :

8 See [Gol99, example 3.3, p. 29]. The notation is different.

17

Definition 3.7. A semiring âˆ’ is a semiring with an additive involution âˆ’ such
that
âˆ’x = (âˆ’1)x = x(âˆ’1).

A homomorphism of semiringsâˆ’ is a semiring homomorphism which also preserves âˆ’.
One could also describe a semiring âˆ’ as a semiring with a constant âˆ’1 such
that (âˆ’1)(âˆ’1) = 1 and (âˆ’1)x = x(âˆ’1) for all x. An involution with the required
properties is then given by âˆ’x = (âˆ’1)x.
Note that a ring is precisely a semiring âˆ’ in which 1 âˆ’ 1 = 0 holds. Then
x âˆ’ x = (1 âˆ’ 1)x = 0x = 0 for all x.
The construction solves the following universal problem. Let T be the functor which forgets the âˆ’ of semirings âˆ’ , turning them into semirings.

Theorem 3.8. Suppose that A is a semiring and X a subset of it. Suppose
also that B is a semiringâˆ’ and Ï• : A â†’ T (B) a semiring morphism such
that Ï•(x) âˆ’ Ï•(x) = 0 for all x âˆˆ X. Then there exists a unique morphism
âˆ’
Ï•Ì‚ : Aâˆ’
X â†’ B of semirings such that Ï• = T (Ï•Ì‚) â—¦ Î·(A,X) .
T (Aâˆ’
X)


Î·(A,X)
A

@
@ T (Ï•Ì‚)
@
@
R
@
Ï•
- T (B)

Proof. Note first that if s âˆˆ S, then Ï•(s) âˆ’ Ï•(s) = 0, since
X
X
X
Ï•(
xi ai ) âˆ’ Ï•(
xi ai ) =
(Ï•(xi ) âˆ’ Ï•(xi ))Ï•(ai )
i

i

i

=

X

(0Ï•(ai )) = 0.

i

Hence, we may replace X by S everywhere in the statement of the theorem.
Then theorem 2.7 gives the unique candidate Ï•Ì‚ : [x, y] 7â†’ Ï•(x)âˆ’Ï•(y) and proves
that it preserves 0, +, âˆ’. It also preserves 1, since Ï•Ì‚(1) = Ï•Ì‚([1, 0]) = Ï•(1) = 1.
Preservation of multiplication is checked thus: Let x, y, z, w âˆˆ A.
Ï•Ì‚((x âˆ’ y)(z âˆ’ w)) = Ï•Ì‚((xz + yw) âˆ’ (xw + yz))
= Ï•(xz + yw) âˆ’ Ï•(xw + yz)

= Ï•(x)Ï•(z) + Ï•(y)Ï•(w) âˆ’ (Ï•(x)Ï•(w) + Ï•(y)Ï•(z))

= (Ï•(x) âˆ’ Ï•(y))(Ï•(z) âˆ’ Ï•(w))
= Ï•Ì‚(x âˆ’ y)Ï•Ì‚(z âˆ’ w).

The rules âˆ’x = (âˆ’1)x = x(âˆ’1) were applied in the fourth step.

18

3.2

Applications to multiplicative monoids of commutative semirings
In the following, all monoids and semirings are assumed to be commutative (a semiring is commutative if + and Â· are commutative).
When we use notions like units, divisional closures etc., we refer to
the multiplicative monoid (when nothing else is stated).
We will sometimes write xy for x/y.

Given a commutative semiring, one may first apply the construction to the
additive monoid, introducing an additive involution as was explained in the
previous section. One may then continue by applying the construction to the
multiplicative monoid, introducing also a multiplicative involution /. We show
in this section how that second step is carried out. It is not necessary that
an additive involution is present, one may as well start from a plain semiring.
However, if both âˆ’ and / are wanted, then âˆ’ should be constructed first, since
the result of the construction in this section will not be a semiring anymore.
In section 1.2, it was sketched how this construction is made. We there
supposed that it was applied to a ring, but semirings work as well. We now
show that the choice of definition of + was not arbitrary, it is the unique choice
which yields a functorial definition (using some very general conditions). More
precisely, let M be the multiplicative monoid of a semiring. Then there is a
âˆ—
unique way of defining on MX
a binary operation + with neutral element 0,
âˆ—
such that the functor F : M 7â†’ MX
acts functorially also with respect to 0 and
+ and such that Î·(M,X) preserves also these operations.
Technically, we state it in the theorem below. We need some preliminaries.
Definition 3.9. Let C 0 be the category with objects (A, X) where A is a (commutative) semiring and X a subset of it. An arrow (A, X) â†’ (A0 , X 0 ) is a
semiring morphism Ï• : A â†’ A0 with Ï•(X) âŠ‚ X 0 .
Note that there is a forgetful functor T 1 : C0 â†’ C (the category C was
defined on page 14), forgetting the additive structure.
Definition 3.10 (weak wheel). A weak wheel is a structure hH, 0, 1, +, Â·, /i
with hH, 1, Â·, /i a commutative involution-monoid and 0 neutral for +, i.e. 0 +
x = x + 0 = x.
Let T2 be the forgetful functor (forgetting 0 and +) from the category WW
of weak wheels to the category CInvMon of commutative involution-monoids.
Theorem 3.11. There is a unique functor F 0 : C0 â†’ WW such that the
diagram
C0

F0

T1
?
C

- WW
T2

F

19

?
- CInvMon

commutes and such that, for each (A, X), there is an operation-preserving function Î·(A,X) which makes the following diagram commute (here M is the multiplicative monoid of A).
(A, X)

Î·(A,X)

x 7â†’ x

?
(M, X)

- F 0 (A, X)
x 7â†’ x

Î·(M,X)

?
âˆ—
- MX

Proof. There is a unique possible definition of Î·(A,X) : by the lower diagram,
âˆ—
F 0 (A, X) is MX
with additional structure (with the notation / instead of âˆ— and
x
with â€˜ y â€™ sometimes denoting x/y), so that we must have Î· (A,X) (x) = Î·(M,X) (x).
We therefore define Î·(A,X) as x 7â†’ Î·(M,X) (x). We then have what is needed to
check that the lower diagram commutes, but it is not clear that Î· (A,X) preserves
the operations, since 0 and + have not yet been defined.
Preservation of 0 requires that 0 be defined in F 0 (A, X) as Î·(A,X) (0), which
has to be Î·(M,X) (0) by the previous paragraph. We therefore make this definition. Note that it is compatible with our general use of the notation â€˜xâ€™ for
Î·(M,X) (x).
It remains to investigate how + must be defined in order for Î· (A,X) to preserve + and for the upper diagram to commute.
Uniqueness:
The requirement that + be preserved by Î· (A,X) means that there should be
no difference between Î·(A,X) (x) + Î·(A,X) (y) and Î·(A,X) (x + y). Thus, we may
safely use the notation â€˜x + yâ€™ for both.
We have to know how F 0 must act on arrows. Let Ï• be an arrow in C 0 . How
0
F (Ï•) acts on elements is given by how it acts after the forgetful functor T 2 has
been applied. We have for x, y âˆˆ A that ((T2 F 0 )(Ï•))(x/y) = ((F T1 )(Ï•))(x/y) =
Ï•(x)/Ï•(y).
Consider N[x1 , x2 , x3 , x4 ], the semiring of polynomials in {x 1 , x2 , x3 , x4 }
with natural numbers as coefficients. 9 Clearly, in F 0 (N[x1 , x2 , x3 , x4 ], âˆ…), we
have
x1
x3
p(x1 , x2 , x3 , x4 )
+
=
x2
x4
q(x1 , x2 , x3 , x4 )
for some pair of polynomials (p, q) with natural numbers as coefficients. For
any (A, X) in C0 and any a1 , a2 , a3 , a4 âˆˆ A, there is a unique morphism Ï• :
(N[x1 , x2 , x3 , x4 ], âˆ…) â†’ (A, X) with Ï•(xi ) = ai , hence


a3
Ï•(x1 ) Ï•(x3 )
x1
x3
a1
0
+
=
+
= (F (Ï•))
+
a2
a4
Ï•(x2 ) Ï•(x4 )
x2
x4


Ï•(p(x
p(x
,
x
,
x
,
x
)
1 , x2 , x3 , x4 ))
1
2
3
4
= (F 0 (Ï•))
=
q(x1 , x2 , x3 , x4 )
Ï•(q(x1 , x2 , x3 , x4 ))
p(a1 , a2 , a3 , a4 )
=
.
q(a1 , a2 , a3 , a4 )
9 We use x , x , x , x as formal symbols, distinguishing them from variables x , x , x , x .
1
2
3
4
1
2
3 4

20

So, addition has to be defined by p and q in F 0 (A, X), for any choice of (A, X).
The polynomials p and q are homogeneous of the same degree, since in F 0 (N, {2})
we must have (for x, y, z, w âˆˆ N)
2x
2z
2 x 2 z
p(2x, 2y, 2z, 2w)
=
+
= Â· + Â·
q(2x, 2y, 2z, 2w)
2y
2w
2 y
2 w
z
x
z
p(x, y, z, w)
x
=1Â· +1Â· = + =
y
w
y
w
q(x, y, z, w)
so that there exist n, m with
(2n , 2n )(p(2x, 2y, 2z, 2w), q(2x, 2y, 2z, 2w)) =
(2m , 2m )(p(x, y, z, w), q(x, y, z, w)).
But then p and q must be homogeneous of degree m âˆ’ n.
We now compute q. Since the Î·(A,X) are required to preserve +, we must
have
x y
x+y
+ =
1
1
1
so that q(x, 1, z, 1) = 1. Hence q(x, y, z, w) = y i wj for some i, j with i + j =
m âˆ’ n. Since 0 is required to be neutral for +, we must also have
x
x 0
+ = ,
y
1
y

0
z
z
+ = ,
1 w
w

hence q(x, y, 0, 1) = y and q(0, 1, z, w) = w. Hence i = j = 1 and we conclude
that q(x, y, z, w) = yw.
We now compute p, which has to be homogeneous of degree 2, as q is.
Preservation of + gives (see above) that p(x, 1, z, 1) = x+z, hence p(x, y, z, w) =
xy k w1âˆ’k +zy `w1âˆ’` for some k, ` âˆˆ {0, 1}. That 0 is neutral gives p(x, y, 0, 1) = x
and p(0, 1, z, w) = z, hence k = 0 and ` = 1, so that p(x, y, z, w) = xw + yz.
Existence:
âˆ—
Let F 0 (A, X) be MX
(again with the notation / instead of âˆ— and with â€˜ xy â€™
sometimes denoting x/y) with 0 = [0, 1] and + defined as
z
xw + yz
x
+ =
.
y
w
yw

(x, y, z, w âˆˆ A)

It is well-defined, since if x0 , y 0 , z 0 , w0 âˆˆ A and x0 /y 0 = x/y and z 0 /w0 = z/w,
then there are s1 , s2 , s3 , s4 with (s1 , s1 )(x, y) = (s2 , s2 )(x0 , y 0 ) and (s3 , s3 )(z, w)
= (s4 , s4 )(z 0 , w0 ), hence
x0 w0 + y 0 z 0
s2 s4 x0 w0 + y 0 z 0
s2 x0 s4 w0 + s2 y 0 s4 z 0
s1 xs3 w + s1 ys3 z
=
Â·
=
=
0
0
0
0
0
0
yw
s2 s4
yw
s2 y s4 w
s1 ys3 w
s1 s3 xw + yz
xw + yz
=
Â·
=
.
s1 s3
yw
yw
If Ï• : (A, XA ) â†’ (B, XB ) is a C0 -arrow, then let F 0 (Ï•) be x/y 7â†’ Ï•(x)/Ï•(y)
(for x, y âˆˆ A). Let us check that it is well-defined. Let SA be the multiplicative
monoid generated by X A and SB the one generated by XB . That Ï• is a C0 arrow means that Ï•(X A ) âŠ‚ XB , hence Ï•(s) âˆˆ SB for all s âˆˆ SA , so that every
21

Ï•(s) is /-invertible in F 0 (B, X). Suppose x/y = x0 /y 0 with x0 , y 0 âˆˆ A. That
means that there are s, s 0 âˆˆ S such that (s, s)(x, y) = (s0 , s0 )(x0 , y 0 ) and hence
Ï•(s0 ) Ï•(x0 )
Ï•(s0 )Ï•(x0 )
Ï•(s0 x0 )
Ï•(sx)
Ï•(x0 )
=
Â·
=
=
=
0
0
0
0
0
Ï•(y )
Ï•(s ) Ï•(y )
Ï•(s )Ï•(y )
Ï•(s0 y 0 )
Ï•(sy)
Ï•(s)Ï•(x)
Ï•(s) Ï•(x)
Ï•(x)
=
=
Â·
=
.
Ï•(s)Ï•(y)
Ï•(s) Ï•(y)
Ï•(y)

F 0 is now clearly a functor.
According to the proof of this theorem, the construction of wheels of fractions, as given in section 1.2, is in a sense the most well-behaving one can
have as a solution to the problem of making division a total function. We used
the category WW as a tool for showing that, and we will not need this category anymore, neither the functor F 0 , as defined in the proof above. Instead,
we use the full subcategory Wheel, with objects being the wheels (definition
1.1). We regard
as a functor C 0 â†’ Wheel, given by (A, X) 7â†’ X A and
Ï• 7â†’ (x/y 7â†’ Ï•(x)/Ï•(y)) (it is easy to verify that wheels of fractions are indeed
wheels). The full subcategory of wheels of fractions will be denoted by WF.
Note that X A is defined for any commutative semiring A, not only for
rings as was the case in section 1.2.
Example 3.12.

âˆ… N is the initial object in Wheel.

Example 3.13. N\{0} N is the wheel which is obtained from the semiring of
non-negative rational numbers by adjoining two extra elements 1/0 and 0/0.
The next proposition shows that the wheels of fractions are special among
the wheels and the theorem that follows states that these rules characterize
wheels of fractions completely up to isomorphism.
Proposition 3.14. Any wheel of fractions is a wheel (definition 1.1 on page 5)
and it holds in it that
1. âˆ€xâˆƒyâˆƒz : x = y/z âˆ§ 0y = 0z = 0,

2. âˆ€xâˆ€yâˆ€x0 âˆ€y 0 : (x/y = x0 /y 0 âˆ§ 0x = 0y = 0x0 = 0y 0 = 0 â‡’ âˆƒz : x = zx0 âˆ§ y =
zy 0 âˆ§ 0z = 0/z = 0).

Proof. That a wheel of fractions is a wheel is straight-forward to check.
To show âˆ€xâˆƒyâˆƒz : x = y/z âˆ§ 0y = 0z = 0, use that every element x âˆˆ
is of the form y/z, where y, z âˆˆ A.
See theorem 4.16 for the proof of 2.

XA

Theorem 3.15 (completeness for wheels of fractions). A wheel is isomorphic to a wheel of fractions if and only if it has the properties given in the
previous proposition.
Proof. See theorem 4.16.
Remark.
We refer in the proofs to theorem 4.16 which is not
yet given. There is no risk for circular reasoning, since we will not
use these results for deriving others, just for constructions of some
examples.
We state them now because it is good to know a complete axiomatization in order to understand the class of structures under consideration.
22

4

Wheels

Since the class of wheels is defined by a set of equations (it is an â€˜equational
classâ€™), it follows that substructures of wheels are wheels (â€˜subwheelsâ€™), that
homomorphic images of wheels are wheels, and that products of wheels are
wheels (for formal definitions, see some textbook in universal algebra, e.g. [BS81,
GraÌˆ79]). It is also complete and cocomplete as a category (see [Bor94, p. 138]).
The corresponding is however not true for wheels of fractions: there are
such which have subwheels or quotients that are not isomorphic to any wheel
of fractions.
Example 4.1. Let A be the ring of functions Z Ã— Z â†’ Z, with the operations
defined point-wise. Let x be the element [Ï€1 , Ï€2 ] of âˆ… A, with Ï€1 (x, y) = x and
Ï€2 (x, y) = y. Let H be the subwheel generated by x, i.e., the elements of H
are those which are given by terms composed of (zero or more occurrences of)
x and the operations. We will show that âˆ€xâˆƒyâˆƒz : x = y/z âˆ§ 0y = 0z = 0 fails
to hold in H. We do that by showing that for any y, z âˆˆ H with 0y = 0z = 0,
we have x 6= y/z.
Every element [f, g] of âˆ… A defines a function ZÃ—Z â†’ ZÃ—Z by [f, g](x, y) =
(f (x, y), g(x, y)). x defines the identity function. Note that
x(0, 0) = (0, 0)
(x + [f, g])(0, 0) = (0, 0)
(x Â· [f, g])(0, 0) = (0, 0)

(/x)(0, 0) = (0, 0)

so that the elements of H which are given by terms in which x occurs at least
once, define functions which takes the value (0, 0) in at least one point.
Suppose 0y = 0z = 0 and y, z âˆˆ H. Take f, g such that y = [f, g]. Then
0y = [0, g] = [0, 1], but then g = 1 and hence y = [f, 1], so that y defines a
function that does not take (0, 0) as value. Hence y is described by a term
which does not contain x. The same argument applies to z. But then y/z is
described by a term which does not contain x, so that y/z defines a constant
function. Then x 6= y/z, since the function defined by x is not constant.
Hence H is not isomorphic to any wheel of fractions.
Example 4.2. Let H =
xâ‰¡y

{1,3} (Z/4Z) and define the congruence relation

means x = y âˆ¨ x, y âˆˆ {0/0, 0/2, 2/0, 2/2}.

Then the rule âˆ€x, y, x0 , y 0 : (x/y = x0 /y 0 âˆ§ 0x = 0y = 0x0 = 0y 0 = 0 â‡’ âˆƒz : x =
zx0 âˆ§ y = zy 0 âˆ§ 0z = 0/z = 0) fails in H/ â‰¡, since 0/0 = 2/2, but 2 6= z0 for
every z.
Hence H/ â‰¡ is not isomorphic to any wheel of fractions.
Hence, the class of wheels isomorphic to wheels of fractions is not axiomatizable by equations. It is therefore not an accident that we needed non-equational
rules to characterize (up to isomorphism) the wheels of fractions among the
wheels.
It is not satisfactory to work in a class that is not closed under such operations, sooner or later one is lead to consider constructions like those given above.
23

Also, it is not satisfactory to succeed in making division total, but introducing
partiality of important class operations.
That is the reason why we choose to study wheels, instead of wheels of
fractions only.10

4.1

Basic properties

We devote some pages to an abstract study of wheels (definition 1.1, p. 5).
Wheels of fractions are studied more in section 4.2.
Remember that the distributivity rule (3) for wheels looks different from the
one for rings (or semirings). However, when 0z = 0, it gives that (x + y)z =
xz + yz. We emphasize this fact now once and for all, in the following we will
apply it freely in computing things like 0(x + y) = 0x + 0y.
Proposition 4.3 (derived rules). The following rules hold in wheels:
/1 = 1
0x + 0y = 0xy

(9)
(10)

(0/0)x = 0/0
x/x = 1 + 0x/x

(11)
(12)

xz = yz â‡’ x + 0z/z = y + 0z/z.

(13)

Proof. (9) Since / is an involution. To repeat the argument: /1 = 1/1 =
//1/1 = /(/1 Â· 1) = //1 = 1.
(6)

(10) 0x + 0y = (0 + 0y)x = 0xy.
(10)

(8)

(11) (0/0)x = 0x/0 = 0x + 0/0 = 0/0.
(4)

(10)

(12) x/x = (0 + x Â· 1)/x = 0/x + 1 + 0x = 1 + 0x/x.
(13) One should really learn to do without implicational rules like this, but we
state it since it is characteristic for computations in wheel algebra.
xz = yz
xz/z = yz/z
x(1 + 0z/z) = y(1 + 0z/z)

by (12)

x + 0z/z = y + 0z/z.

by (6)

Note that by (8) and (11), a term is equal to â€˜0/0â€™ if it contains â€˜0/0â€™ as a
subterm.
A notion of negation can sometimes be introduced. If H is a wheel and
a âˆˆ H with 0a = 0 and a2 = 1, then âˆ’ : x 7â†’ ax is an additive involution since
a(x + y) = (x + y)a + 0a = xa + ya = ay + ax and aax = 1x = x. There are at
least three natural ways in which such an a can appear.
1. a = 1. This gives the identity (thus not an interesting involution to use).
10 See section 4.3 for further comments on the choice of axioms

24

2. If H = X A with A a semiringâˆ’ . Then a = âˆ’1 gives an involution which
extends the âˆ’ of A. If A is a ring, then this case coincides with the next.
3. If a is a solution to the equation 1+x = 0, then 0a = 1Â·0+aÂ·0 = (1+a)0 =
0Â·0 = 0 and a2 = 1+a+a2 = 1+(1+a)a+0a = 1+0a+0a = 1+0+0 = 1.
With this choice of a, we have the nice formula
x âˆ’ x = 0x2 ,
since x âˆ’ x = 1x + ax = (1 + a)x + 0x = 0x + 0x = 0x 2 .
The wheel of fractions âˆ… (Z/2Z) is the (up to isomorphism unique) smallest
non-trivial wheel, since it contains only four elements:
Proposition 4.4. If any two of the elements 0, 1, /0 and 0/0 are equal in a
wheel H, then H is trivial.
Proof. There are six cases to go through.
0=1
0 = /0

Then 1 = 1/1 = 0/0. See below for the rest.
Then 0 = 0 Â· 0 = 0/0. See below.

0 = 0/0
1 = /0

Then x = 0 + x = 0/0 + x = 0/0.
Then 1 = 1/1 = /0//0 = 0/0. See below.

1 = 0/0
/0 = 0/0

Then x = 1x = (0/0)x = 0/0.
Then x = 0 + x = //0 + x = /(0/0) + x = 0/0 + x = 0/0.

The two notions of reciprocal and multiplicative inverse are connected by
the operations 0, + as follows.
Proposition 4.5. Let x be a unit.
1. xâˆ’1 + 0/x = /x + 0xâˆ’1 .
âˆ’1

2. xâˆ’1 = /x + 0 xxâˆ’1 .
3. /x = xâˆ’1 + 0 xx .
Proof.

1. xâˆ’1 + 0/x = xâˆ’1 /(xxâˆ’1 ) + 0/x = /x + 0xâˆ’1 /(xxâˆ’1 ) = /x + 0xâˆ’1 .

2. Add 0/(xâˆ’1 ) to each side of 1.
3. Add 0x to each side of 1.
Note also that if xy is /-invertible, then x and y are units with x âˆ’1 =
y/(xy) = /x + 0y/y and y âˆ’1 = x/(xy) = /y + 0x/x.
We may construct a right adjoint to the functor in the following steps.
Definition 4.6. Let H be a wheel. Then define the following subsets:
RH = {x | 0x = 0},
SH = {x | 0x = 0/x = 0}.
25

Proposition 4.7. RH is a semiring under the operations 0, 1, + and Â·. SH
is a multiplicative group in RH.
Proof. Suppose that x, y âˆˆ RH. Then
1. 0(x + y) = 0(x + y) + 0 Â· 0 = 0x + 0y = 0 + 0 = 0,
2. 0(xy) = (0x)y = 0y = 0.
Thus RH is closed under addition and multiplication. 0 âˆˆ RH by (5) and
1 âˆˆ RH since 1 is the identity in the multiplicative monoid.
That SH is closed under multiplication follows from the fact that if x, y âˆˆ
SH, then 0/(xy) = (0/y)/x = 0/x = 0. We have 1 âˆˆ SH by (9). Given
an element x âˆˆ SH, then /x âˆˆ SH (since / is an involution) and it is the
multiplicative inverse of x by the computation x/x = 1+0x/x = 1+0/x = 1.
We will use the notation RH also for the semiring it becomes when the
operations 0, 1, +, Â· are induced by H. It will be called â€˜the semiring of Hâ€™ or
simply â€˜the semiringâ€™ when the context is clear. It is the largest semiring in H
since 0x = 0 holds in any semiring.
Remarks. We showed that every element of SH is /-invertible. On
the other hand, SH contains every /-unit that is inside the subset
RH, since if x is /-invertible and 0x = 0, then 0/x = 0x/x = 0Â·1 = 0.

An element of RH is a unit in RH iff it is a unit in H. To see
this, note that if x âˆˆ RH and xy = 1, then also y âˆˆ RH, since
0y = 0xy = 0 Â· 1 = 0.
The question whether x âˆˆ H is a unit or not is partially answered
by the information whether or not x âˆˆ RH and/or /x âˆˆ RH:
x âˆˆ RH?
No
Yes
No
Yes

/x âˆˆ RH?
No
No
Yes
Yes

â‡’
â‡’
â‡’
â‡’

x unit?
Maybe
Maybe
Maybe
Yes

x /-unit?
Maybe
No
No
Yes

Let us consider Î·(A,X) : x 7â†’ [x, 0] as a C0 -arrow (A, X) â†’ (R X A, S X A),
which we may do since, if x âˆˆ X, then 0/Î·(A,X) (x) = [0, 1]/[x, 1] = [0, x] =
[0, 1] = 0, so that Î· (A,X) (X) âŠ‚ S X A.
Let (R, S) be the functor Wheel â†’ C0 given by (R, S)(H) = (RH, SH)
and (R, S)(Ï•) being the restriction of Ï• to RH. This works since if 0x = 0,
then 0Ï•(x) = Ï•(0)Ï•(x) = Ï•(0x) = Ï•(0) = 0 (thus Ï• actually maps the semiring
of the domain into the semiring of the codomain), and if in addition 0/x = 0,
then 0/Ï•(x) = Ï•(0)/Ï•(x) = Ï•(0/x) = Ï•(0) = 0 (thus (R, S)(Ï•) behaves as it
should with respect to S).
Theorem 4.8. The functor
: C0 â†’ Wheel is left adjoint to (R, S) :
0
Wheel â†’ C with unit Î· and counit , given by H : [x, y] 7â†’ x/y.
Proof. H is well-defined since if [x, y] = [x0 , y 0 ], then there exist s1 , s2 âˆˆ SH
such that (s1 , s1 )(x, y) = (s2 , s2 )(x0 , y 0 ) and hence x/y = (x/y)(1 + 0s 1 /s1 ) =

26

(s1 x)/(s1 y) = (s2 x0 )/(s2 y 0 ) = (x0 /y 0 )(1 + 0s2 /s2 ) = x0 /y 0 . It is easily seen that
 is a natural transformation.
By basic category theory, the result follows if we show that for any C-object
(A, X) and any wheel H, we have11
( )(A,X) ( Î·)(A,X) = Id X A
and
((R, S))H (Î·(R, S))H = Id(RH,SH) .
R

( )(A,X) :

S

( Î·)(A,X) :

XA â†’

XA

XA â†’
S

XA

R

X A by [[x, y], [z, w]] 7â†’ [xw, yz]
X A by [x, y] 7â†’ [[x, 1], [y, 1]]

((R, S))H : (R SH RH, S SH RH) â†’ (RH, SH) by [x, y] 7â†’ x/y
(Î·(R, S))H : (RH, SH) â†’ (R SH RH, S SH RH) by x 7â†’ [x, 1]
Then

( )(A,X) ( Î·)(A,X) ([x, y]) = ( )(A,X) ([[x, 1], [y, 1]]) = [x Â· 1, y Â· 1] = [x, y]
and
((R, S))H (Î·(R, S))H (x) = ((R, S))H ([x, 1]) = x/1 = x.

4.2

Applications to wheels of fractions

4.2.1

The semiring in a wheel of fractions

The following fact will be used freely without reference to the proposition.
Proposition 4.9. If x âˆˆ A, then 0/x = 0 in X A if and only if x âˆˆ SÌƒ, which
is the divisional closure of S, which is the multiplicative monoid generated by
X.
Proof. Proposition 2.15 gives us that x/x = 1 is equivalent to x âˆˆ SÌƒ. We need
to prove x/x = 1 â‡â‡’ 0/x = 0 under the condition 0x = 0.
Suppose x/x = 1. Then 0/x = 0x/x = 0 Â· 1 = 0.
Suppose 0/x = 0. Then x/x = 1 + 0x/x = 1.
The elements of R

X A are of a very special form:

Lemma 4.10. x âˆˆ R X A iff x = r/s for some r âˆˆ A, s âˆˆ S, with S the
multiplicative monoid generated by X.
Proof. If x = r/s, then 0x = 0r/s = 0/s = 0. On the other hand, suppose that
0x = 0, say with x = y/z (y, z âˆˆ A). Then 0/z = 0x = 0, so that z âˆˆ SÌƒ, say
s0 z âˆˆ S. With r = s0 y, s = s0 z, we get r/s = (s0 y)/(s0 z) = (s0 /s0 )(y/z) = x.
In commutative algebra and algebraic geometry, one often uses the ring of
fractions S âˆ’1 A, where S is a multiplicative submonoid of a commutative ring
A (often the complement of a prime ideal). One defines S âˆ’1 A as the monoid
AS together with 0 = [0, 1] and [x, s] + [x 0 , s0 ] = [xs0 + x0 s, ss0 ]. As is seen, this
construction is similar to ours. In fact, we have factorized it in two parts: as
followed by R.
11 The naturalness must also be checked, but our constructions are obviously natural.

27

Theorem 4.11. If A is a commutative ring with identity and S a multiplicative
submonoid, then S âˆ’1 A âˆ¼
= R S A by the isomorphism r/s 7â†’ r/s.
Proof. The mapping Î·Ì‚(A,S) : AS â†’ R S A, r/s 7â†’ r/s is an injective morphism
of the multiplicative monoids by theorem 2.10. It is easy to see that it preserves
0 and + too. It is surjective by the previous lemma and thus a bijection. S âˆ’1 A
is a ring so Î·Ì‚ (A,S) is an isomorphism of rings.
Any wheel of fractions is (according to proposition 2.14) of the form S A
with S being closed under division. For that presentation, we have a stronger
version of the previous theorem.
Theorem 4.12. S âˆ’1 A and R

S A are identical iff S is closed under division.

Proof. Take [x, y] âˆˆ R S A. Then 0/y = 0x/y = 0, so that y âˆˆ SÌƒ. If S is closed
under division, we get y âˆˆ S, so that (x, y) âˆˆ A Ã— S. Hence R S A = S âˆ’1 A in
that case.
Suppose instead that R S A and S âˆ’1 A are identical as sets. Take x âˆˆ SÌƒ;
we shall prove x âˆˆ S. We have (x, x) âˆˆ [x, x] = x/x but since x/x âˆˆ R S A
by the previous lemma, we get that (x, x) âˆˆ A Ã— S when R S A and S âˆ’1 A are
identical as sets.
We summarize the results above in the following corollary. It states one
isomorphism and two identities:
Corollary 4.13. Let A be a semiring, S a multiplicative monoid in it, SÌƒ its
divisional closure. Then Sâˆ’1 A âˆ¼
= R S A = R SÌƒ A = SÌƒ âˆ’1 A.
Proof. By theorem 4.11, S âˆ’1 A âˆ¼
= R S A. By theorem 2.14, R
and by theorem 4.12, R SÌƒ A = SÌƒ âˆ’1 A.
4.2.2

SA = R

SÌƒ A

Obtaining /-invertible wheels of fractions

In the choice between S âˆ’1 A and S A in practical computing when A is a
ring, it may seem to be a drawback of the latter that one has to distinguish
between reciprocals and multiplicative inverses. One should then remember that
S âˆ’1 A and R S A are isomorphic as rings and that the multiplicative inversion
therefore is the same in both structures. The difficulty appears first at the
moment when we start using the involution /. Hence, there is no real drawback,
since one can stick to multiplicative inversion when that is more comfortable.
But that does not explain why we introduced the operation /. If finding
inverses is what we want it for, then we would like to have no difference between
reciprocals and inverses, i.e., we would like to have a /-invertible wheel, so that
xâˆ’1 = /x whenever xâˆ’1 is defined. By proposition 2.19, we obtain that if
and only if SÌƒ is saturated as a submonoid of the multiplicative monoid of A.
The question is therefore if a given S can be replaced by one having saturated
divisional closure.
Definition 4.14 (saturated closure). The saturated closure SÌ„ of a submonoid S of a commutative monoid M is the set {x âˆˆ M | âˆƒy âˆˆ M : xy âˆˆ S}
(it is the smallest saturated submonoid of M that contains S).

28

Since SÌ„Ëœ = SÌ„, SÌ„ is a submonoid with saturated divisional closure. In the
following, SÌ„ will denote the saturated closure of S in the multiplicative monoid
of A.
There is a well-known natural isomorphism S âˆ’1 A âˆ¼
= SÌ„ âˆ’1 A given by r/s 7â†’
âˆ’1
r/s. Theorem 4.12 shows that SÌ„ A = R SÌ„ A, so that the isomorphism is
in fact S âˆ’1 A â†’ R SÌ„ A. Since SÌ„ A is /-invertible, it is in a sense a better
extension of S âˆ’1 A than S A is.12
It is well-known that any ring A may be extended to its â€˜total ring of fractionsâ€™ S0âˆ’1 A, so that every multiplicatively cancelable element in A becomes a
unit. However, when doing that, some structure of A can be lost. For instance,
in extending Z to Q, one looses all non-trivial proper ideals. Hence, there is
a reason for not always extending rings as much as one can. The construction
of wheels of fractions have the advantage that it need not destroy any structure. The following corollary shows that a semiring can always be extended to
a /-invertible wheel in such a way that it can be retrieved using the R operator.
Corollary 4.15. Let U be the set of units in a semiring A. Then
/-invertible and it extends A in the sense that
1. R

U A is

U A is isomorphic to A,

2. the operations 0, 1, +, Â· of A are extended to corresponding operations of
U A,
3. if A is a semiringâˆ’ , then the involution âˆ’ of A is extended to an involution
âˆ’ of U A.
4. the restriction of / to A is the partial function Â·âˆ’1 .
Proof. This is just a restatement of 2.20 and 2.21, together with information on
how + and âˆ’ are defined (see page 24 for the latter).
4.2.3

Axiomatizing the class of wheels of fractions

We now restate and prove the completeness theorem for the axioms of wheels
of fractions. The symbols R and S simplify the notation compared to that used
in proposition 3.14.
Theorem 4.16. A wheel H is isomorphic to some wheel of fractions if and only
if it has the following properties:
0

0

âˆ€xâˆƒy, z âˆˆ RH : x = y/z
0

0

(14)
0

0

âˆ€x, y, x , y âˆˆ RH : (x/y = x /y â‡’ âˆƒs âˆˆ SH : x = sx âˆ§ y = sy )

(15)

Proof. (14) holds in any X A since every x is of the form y/z for some y, z âˆˆ A
so we have x = y/z for the corresponding elements in R X A.
To show that (15) holds in X A, suppose that x/y = x0 /y 0 âˆ§0x = 0y = 0x0 =
0
0y = 0. By lemma 4.10, we may assume that x = a/s 1 , y = b/s2 , x0 = c/s3 ,
12 It is true that R
S A and R SÌ„ A are isomorphic as rings by the mapping r/s 7â†’ r/s, but
not in general that / is preserved under this isomorphism. Consider e.g. R {1,2,3,...} and
R {Â±1,Â±2,Â±3,...} . They are isomorphic as rings, but /(âˆ’1) = âˆ’1 is true only in the latter.
(âˆ’1)âˆ’1 = âˆ’1 is of course true whenever âˆ’ is obtained in one of the ways mentioned on page
24.

29

y 0 = d/s4 with a, b, c, d âˆˆ A. Then (s2 /s1 )a/b = x/y = x0 /y 0 = (s4 /s3 )(c/d), so
there exist s0 , s00 such that
(s0 , s0 )(s2 , s1 )(a, b) = (s00 , s00 )(s4 , s3 )(c, d).
Taking
s=

s3 s4 s00
s1 s2 s0

(which is in SH), we get
sx0 =

s3 s4 s00 c
s3 s2 s0 a
a
s3 s4 s00 c
Â·
=
=
=
= x.
0
0
0
s1 s2 s s3
s1 s2 s3 s
s1 s2 s3 s
s1

sy 0 =

s3 s4 s00 d
s3 s4 s00 d
s1 s4 s0 b
b
Â·
=
=
=
= y.
0
0
0
s1 s2 s s4
s1 s2 s4 s
s1 s2 s4 s
s2

and

On the other hand, suppose that (14) and (15) are true in a wheel H. Then
H (defined in theorem 4.8) is surjective by (14) and injective by (15). Hence it
is an isomorphism SH RH â†’ H.
4.2.4

Cancellation of zero-terms

In computing with (semi-)rings, one does not only use equational rules, but
additional information, for instance, that a certain element a is â€˜multiplicatively
cancellableâ€™ (Â·-cancellable): ax = ay â‡’ x = y.
We have seen that any semiring can be viewed as a part of a wheel; technically, that any semiring A is embedded in U A (where U is the set of units
of A) and that an isomorphic copy of A can be recovered from U A by the
operator R. It is important that we can transfer information about cancellation
to the wheel.
Consider the equation ax = ay in a semiring A. The information â€˜a is Â·cancellableâ€™ lets us conclude that x = y. When A is considered as embedded in a
wheel, it is instead natural to reason as follows (without any use of cancellation):
ax = ay
ax/a = ay/a
x + 0a/a = y + 0a/a
x + 0/a = y + 0/a.
The question of cancellation now comes in since we need to know whether
0/a is additively cancellable (+-cancellable). In this way, the problem of Â·cancellation is reduced to a problem of +-cancellation. One might however
suspect that there could be situations in which a is Â·-cancellable in A, but 0/a
is not +-cancellable in X A. Fortunately, there are no such cases, according to
the following proposition.
Proposition 4.17. If a is Â·-cancellable in A, then 0/a is +-cancellable in

X A.

Proof. Suppose that a is Â·-cancellable in A. Suppose also that [x, y] + 0/a =
[x0 , y 0 ] + 0/a, that is, that [ax, ay] = [ax0 , ay 0 ]. Then there are s, s0 such that
sax = s0 ax0 and say = s0 ay 0 but since a is Â·-cancellable, we conclude that
sx = s0 x and sy = s0 y 0 , hence [x, y] = [x0 , y 0 ].
30

Suppose now that if a 6= 0 in A, then a is Â·-cancellable, i.e., that S 0 = A\{0}.
We say (following [Gol99]) that such a semiring is multiplicatively cancellative.13
This is a maximality property, since if a = 0, then a cannot be Â·-cancellable
unless the semiring is trivial. A corresponding maximality property for wheels
is 0x 6= x â‡’ (0/x is +-cancellable), since if 0x = x, then 0/x canâ€™t be +cancellable unless the wheel is trivial (y + 0/x = z + 0/x holds for any y and
z if 0x = x, since then y + 0/x = y + 0/(0x) = 0/0 = z + 0/(0x) = z + 0/x).
These properties are connected as follows.
Proposition 4.18.
1. If A is multiplicatively cancellative, then 0x 6= x â‡’
(0/x is +-cancellable) holds in X A.
2. If 0x 6= x â‡’ (0/x is +-cancellable) holds in H, then RH is multiplicatively
cancellative.
Proof.
1. We shall prove that 0/x is +-cancellable whenever 0x 6= x. Let
x = [x0 , x00 ] and assume 0x 6= x. Suppose that x0 = 0. Then x = [0, x00 ] =
[0, 1][0, x00 ] = 0x, which is refuted, hence x0 6= 0. If A is multiplicatively
cancellative, then x0 is Â·-cancellable. Hence 0/x 0 is +-cancellable, but
0/x = 0/x0 and we are done.
2. Take x âˆˆ RH with x 6= 0. Then 0x = 0 6= x, so that 0/x is +-cancellable.
We may then compute as follows:
xy = xz
xy/x = xz/x
y + 0x/x = z + 0x/x
y + 0/x = z + 0/x
y = z.
Note that we did not need to assume that y, z âˆˆ RH.
Example 4.19. Solve the equation 3x = 12.
We have x + 0/3 = 3x/3 = 12/3 = 3 Â· 4/3 = 4 + 0/3. That gives x =
4 whenever 0/3 is +-cancellable, which happens for instance if the wheel in
question is X Z, for any subset X âŠ‚ Z, since 3 is Â·-cancellable in Z. In general
we may not conclude more than x + 0/3 = 4 + 0/3, which is sound since the
equation does not have a unique solution in general.
Ring algebra does not allow us to derive anything from 3x = 12 when 3
is not Â·-cancellable (e.g. when the equation have several solutions), but wheel
algebra always lets us develop to x + 0/3 = 4 + 0/3, which can be used in further
calculations: if x and 0/3 appear in the left hand side of an equation, then we
may use the axioms for zero-terms to move 0/3 close to x, then replacing x+0/3
by 4+0/3 and finally move the term 0/3 out using the rules for zero-terms again.
If x appears, but not 0/3, then we may add 0/3 to both sides of the equation,
hence introducing 0/3 but eliminating an occurrence of x. Note that when such
an introduction has been made, then one can use the introduced term over and
13 The term â€˜integralâ€™ is unfortunately already used in another sense in the context of semirings [Gol99]. E.g. /6 is integral as a semiring in this sense.

31

over again, until all occurrences of x are eliminated. One may view these 0/3terms as flags indicating that the result is worthless if e.g. 0 = 3, since then the
rule â€˜x + 0/0 = 0/0â€™ can be used for reducing the equation to 0/0 = 0/0.
Say that we want to compute the value of x2 + x, given that 3x = 12. We
canâ€™t give a definite answer, since the value is not uniquely determined unless we
specify which semiring we think of. What we can do is to compute x 2 + x + 0/3:
x2 + x + 0/3 = x2 + 4 + 0/3 = x(x + 0/3) + 4 = x(4 + 0/3) + 4
= (x + 0/3)4 + 4 = (4 + 0/3)4 + 4 = 4 Â· 4 + 4 + 0/3
= 20 + 0/3.

If we get information at a later stage, letting us conclude that 0/3 is +cancellable, then we can get something explicit for x 2 + x. This might happen if
we get more knowledge about the semiring we started with, but also if we pass
to a quotient of that semiring. For instance, suppose that we conclude that we
need the value modulo 16. We then pass to a quotient defined by 0 = 16. In
such a quotient, 3 is a unit, and hence 0/3 is +-cancellable. 14 We conclude that
x2 + x = 20 = 4 (mod 16).
We may view the wheel alternative as computing modulo everything at the
same time.

4.3

Equational logic for wheels of fractions

One may ask if our definition of â€˜wheelâ€™ is â€˜the right oneâ€™. Are the axioms chosen
ad hoc, or do they axiomatize a class of structures that is in some sense naturally
delimited?
There is some evidence that we canâ€™t improve the definition:
1. The wheels of fractions are wheels according to our definition.
2. The axioms are a set of equations. That is by Birkhoffâ€™s theorem [Bir35]
necessary for the axiomatized class to be closed under substructures, quotients, products and isomorphisms. Further, by â€˜compactness for equational logicâ€™, if it is finitely axiomatizable in first order predicate logic,
then it is finitely axiomatizable by equations. Hence, there is no need to
consider other candidates than equations as axioms.
3. The axioms are finitely many.
4. We have empirical experience that the axioms are precisely what we need
to make natural computations.
On the other hand, there is some counterevidence too: There are identities,
like (x + 1)2 = x(x + 2) + 1, that hold in any wheel of fractions but does not
seem to be provable from our axioms. But (x + 1) 2 = x(x + 2) + 1 is not a
very natural identity and may be thought of as valid in wheels of fractions â€˜by
accidentâ€™: that it just â€˜happens to beâ€™ and that there is nothing conceptual that
suggests that it should be valid in all wheels. 15
14 If x is a unit, then 0x and 0/x are +-cancellable since 0x + 0xâˆ’1 = 0xxâˆ’1 = 0 and
0/x + 0/(xâˆ’1 ) = 0/(xxâˆ’1 ) = 0 in that case.
15 However, by completeness, (14) (see theorem 4.16) suffices (together with wheel axioms)
for derivation of any identity that is valid in all wheels of fractions, since every wheel which
has this property is a homomorphic image of a wheel of fractions. This is because H (defined
in theorem 4.8) is surjective by (14).

32

Anyway, one might wish to include more axioms for wheels, perhaps those
needed to prove every identity that is valid in the class WF of wheels of fractions.
By Birkhoffâ€™s theorem, we should have equational axioms only, so that the class
axiomatized is still closed under products, substructures and quotients. This
amounts to axiomatizing the class V (WF), called â€˜the variety generated by
WFâ€™, consisting of structures that can be obtained in finitely many steps from
wheels of fractions, taking products, substructures, quotients and isomorphic
copies.16
We will study the class V (WF), but also simultaneously the following. A
wheel with negation is a wheel with an additional constant âˆ’1 such that 1 +
(âˆ’1) = 0. By the discussion on page 24, such a constant determines an additive
involution by âˆ’x = (âˆ’1)x and it holds that x âˆ’ x = 0x 2 , hence the semiring in
such a wheel is in fact a ring. A wheel of fractions with negation is obtained
for instance when the semiring used in the construction is a ring. We denote by
Wheelneg the class of wheels with negation and by WFneg the class of wheels
of fractions with negation. A morphism of wheels with negation should preserve
âˆ’1, but that is automatically satisfied by any morphism of wheels: suppose H
and H 0 are wheels with negation and Ï• : H â†’ H 0 a wheel morphism. Then it
holds in H 0 that Ï•(âˆ’1) = 1+(âˆ’1)+Ï•(âˆ’1) = âˆ’1+Ï•(1+(âˆ’1)) = âˆ’1+Ï•(0) = âˆ’1.
We will emphasize on the classes Wheel, WF and V (WF) in the following,
but the treatment of Wheelneg, WFneg and V (WFneg) is precisely analogous, just replace N by Z, N[x1 , . . . , xn ] by Z[x1 , . . . , xn ], âˆ… N by âˆ… Z, â€œwheel
axiomsâ€ by â€œwheel axioms and â€˜1+(âˆ’1) = 0â€™ â€, â€œsemiringsâ€ by â€œrings with identityâ€, and so on. One has to check some details of negation in the proofs, but
that is straight-forward and omitted for the purpose of readability (we include
a remark at a crucial point).
Definition 4.20. A term p(x 1 , . . . , xn ) is a polynomial term if it contains no
occurrence of /. We say that such terms are equivalent if they can be proved
to be equal using the axioms for commutative semirings. This is an equivalence
relation and its equivalence classes are called polynomials.
Example 4.21. The polynomial terms â€˜(x + 1)(x + 1)â€™ and â€˜(xx) + ((2x) + 1)â€™
are not identical, but equivalent. Hence they define the same polynomial.
When wheels with negation are treated, polynomial terms are equivalent if
they can be proved to be equal using axioms for commutative rings with identity.
Theorem 4.22. The following are equivalent for a wheel H.
1. H âˆˆ V (WF).
2. H âˆˆ V ({

âˆ… N}).

3. Any identity which is valid in all wheels of fractions is valid in H too.
4. Any identity which is valid in

âˆ… N is valid in H too.

5. H is isomorphic to a quotient of a subwheel of a power of
6. H is isomorphic to a quotient of a subwheel of
semiring of functions I â†’ N, for some set I.
16 See some textbook in universal algebra, e.g. [BS81, GraÌˆ79].

33

âˆ… N.

I
I
âˆ… (N ), where N

is the

Proof. We first prove 1 â‡â‡’ 2 â‡â‡’ 3 â‡â‡’ 4 by showing 1 â‡’ 3 â‡’ 4 â‡’ 2 â‡’ 1.
The step 4 â‡’ 2 follows from Birkhoffâ€™s theorem and the other steps are obvious,
except for 3 â‡’ 4 which needs a proof.
Suppose t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is valid in âˆ… N. We shall prove that it
is valid in all wheels of fractions. Substitute [x 0i , x00i ] for every xi in the identity
and compute the values of each side. The result is [p(x 1 , . . . , xn ), q(x1 , . . . , xn )]
= [p0 (x1 , . . . , xn ), q 0 (x1 , . . . , xn )] for polynomials p, p 0 , q, q 0 with coefficients from
N. That t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is valid in âˆ… N means that (p(x1 , . . . , xn ),
q(x1 , . . . , xn )) and (p0 (x1 , . . . , xn ), q 0 (x1 , . . . , xn )) takes the same values if we
substitute natural numbers for the variables. But then p = p 0 and q = q 0 as
polynomials, so that the identity is valid in any wheel of fractions.
A theorem by Tarski gives 2 â‡’ 5 (see e.g. [BS81]) and 5 â‡’ 2 is obvious.
To establish 5 â‡â‡’ 6, we need to show ( âˆ… N)I âˆ¼
= âˆ… (NI ). We get this
I âˆ¼ I
I
from the identity (N Ã— N) = N Ã— N for the multiplicative monoid of N. It is
obvious that this isomorphism preserves also 0 and +.
One says that âˆ… N is generic for V (WF), because of the equivalence 1 â‡â‡’
4. It is moreover the WF-free wheel over âˆ…. In general, if K is a class of wheels,
then the K-free wheel over a set X is the (up to isomorphism unique) wheel
FK (X) with the property that for any function X â†’ H, where H âˆˆ K, there
is a morphism FK (X) â†’ H that extends it. It is easily seen from Birkhoffâ€™s
construction that FK (X) = FV (K) (X) and in our case we have V (WF) =
V ({ âˆ… N}), so that FWF (X) = F{ âˆ… N} (X) and the latter is (again by Birkhoffâ€™s
construction) a subwheel of some wheel of the form ( âˆ… N)I â€” which, as we
proved in the theorem, is isomorphic to âˆ… (NI ). One may consider it as the
wheel of wheel-terms with identification made when two terms yield identical
values in âˆ… N. Hence an equation t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is valid in WF
if and only if t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in FWF ({x1 , . . . , xn }).
Remark. Note how we use the terms â€˜validâ€™ and â€˜trueâ€™. We only
apply â€˜trueâ€™ to a closed formula (which in our case means a formula
in which no variable occur, since we consider quantifier-free formulas only). An open formula is valid if it becomes true after any
substitution with elements from any of the structures considered.
The corresponding theorem for wheels with negation reads as follows.
Theorem 4.23. The following are equivalent for a wheel H with negation ( âˆ… Z
is here considered as a wheel with negation, that means for instance that âˆ… N
is not considered to be a substructure of it).
1. H âˆˆ V (WFneg).
2. H âˆˆ V ({

âˆ… Z}).

3. Any identity which is valid in all wheels of fractions with negation is valid
in H too.
4. Any identity which is valid in

âˆ… Z is valid in H too.

5. H is isomorphic to a quotient of a subwheel of a power of
6. H is isomorphic to a quotient of a subwheel of
ring of functions I â†’ Z, for some set I.
34

âˆ… Z.

I
I
âˆ… (Z ), where Z

is the

Proof. As the previous proof.
Since validity in WF is equivalent to truth in FWF ({x1 , . . . , xn }), we get a
completeness result for WF if we give a complete method for deriving formulas which are true in FWF ({x1 , . . . , xn }). In this section, we will study such
derivations, and similar ones.
We work in a language which is obtained from the language of wheels by
adjoining constant symbols x 1 , . . . , xn (and when wheels with negation are considered, the language has an additional constant symbol â€˜âˆ’1â€™). In the following,
xi will denote
1. a constant symbol in the language,
2. an element of FK ({x1 , . . . , xn }) for several choices of K,
3. an element of N[x1 , . . . , xn ],
4. an element of

âˆ… (N[x1 , . . . , xn ]),

so the reader should be careful to observe which is the case for every occurrence.
As a consequence, when t is a term, t(x 1 , . . . , xn ) can be interpreted as a closed
term in the language or as an element of F K ({x1 , . . . , xn }) for several choices
of K, or as an element of âˆ… (N[x1 , . . . , xn ]).
When we say things like â€œt(x1 , . . . , xn ) = s(x1 , . . . , xn ) can be proved using
the wheel axioms together with an axiom â€˜0x i = 0â€™ for each iâ€, we mean that
there is a formal derivation of the formula t(x 1 , . . . , xn ) = s(x1 , . . . , xn ) in the
system of equational logic with the axioms indicated (here, â€˜axiomsâ€™ should be
interpreted in the sense of formal systems). The formula â€˜1 + (âˆ’1) = 0â€™ is an
axiom when we work with wheels with negation.
Theorem 4.24 (completeness). The equation t(x 1 , . . . , xn ) = s(x1 , . . . , xn )
is valid in WF (and hence valid in V (WF)) if and only if t(x1 , . . . , xn ) =
s(x1 , . . . , xn ) is provable using the axioms for wheels together with the axioms
â€˜0xi is +-cancellableâ€™ (i = 1, . . . , n).
Proof. Validity of the equation t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is equivalent to
the truth of t(x1 , . . . , xn ) = s(x1 , . . . , xn ) in FWF ({x1 , . . . , xn ) (by definition
of the latter wheel). Lemma 4.47 will show that if the latter equation is true,
then it is provable using the axioms for wheels together with the axioms â€˜0x i is
+-cancellableâ€™.
On the other hand, if it is provable by that technique, then it is true by
lemma 4.39.
Before we state and prove some technical lemmas, we state the following theorems, which are alternatives to the previous ones. By distinguishing between
â€˜balancedâ€™ and â€˜unbalancedâ€™ equations, they make more precise statements than
the previous ones.
Definition 4.25. An equation is balanced if each variable occurs equally many
times on each side. Otherwise, it is unbalanced.
Note that all axioms for wheels except â€˜x + 0/0 = 0/0â€™ are balanced. Remember that x occurs n times in â€˜xn â€™, since â€˜xn â€™ is just a short notation for a
product of n xâ€™s. A warning: the equation â€˜0x i = 0â€™ is balanced, since xi is not
35

a variable in our formal sense, but a constant symbol, interpreted as a special
element of the structure considered in the context.
Theorem 4.26. An unbalanced equation t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is valid
in WF (and hence valid in V (WF)) if and only if t(x1 , . . . , xn ) = 0/0 and
s(x1 , . . . , xn ) = 0/0 are true in âˆ… (N[x1 , . . . , xn ]).
Proof. Use lemma 4.49 and the equivalence between validity and truth.
Example 4.27. The formula 1 + x1 = x+1
x is valid in Q \ {0}. Is it perhaps
valid in all wheels of fractions? The answer is no, since it is not balanced, and
one easily checks that 1 + x1 6= 00 in âˆ… (N[x]). A balanced analogue is
1+

x+1
1
+ 0x =
,
x
x

which is easily proved by the wheel axioms.
Theorem 4.28. A balanced equation t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is valid in
WF (and hence valid in V (WF)) if and only if t(x1 , . . . , xn ) = s(x1 , . . . , xn )
is true in âˆ… (N[x1 , . . . , xn ]).
Proof. If t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is valid, t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is
clearly true.
For the other direction, use lemma 4.50 and the equivalence between validity
and truth.
2

Example 4.29. (x+1)
= x(x+2)+1
is valid in all wheels of fractions since it is
x
x
2

= x(x+2)+1
is true in
balanced (x occurs three times on each side) and (x+1)
x
x
(N[x]).
âˆ…
Example 4.30. (x + y)(x âˆ’ y) = x 2 âˆ’ y 2 is valid in all wheels of fractions with
negation. This follows since it is balanced and (x 1 + x2 )(x1 âˆ’ x2 ) = x21 âˆ’ x22 is
true in âˆ… (Z[x1 , x2 ]).
These two results give a completeness result for WF together with the following theorem:
Theorem 4.31. The equation t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in the wheel
âˆ… (N[x1 , . . . , xn ]) if and only if it is provable by the wheel axioms together with
the rules â€˜0xi = 0â€™ for each i = 1, . . . , n.
Proof. 0xi = 0 is evidently true in âˆ… (N[x1 , . . . , xn ]), so provable equations are
true.
Suppose on the other hand that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in
âˆ… (N[x1 , . . . , xn ]). Then t(x1 , . . . , xn ) â‰¡ s(x1 , . . . , xn ) in FWheel ({x1 , . . . , xn })
(definition 4.40 and lemma 4.44), say t(x 1 , . . . , xn ) + zt1 = s(x1 , . . . , xn ) + zt2
is true in FWheel ({x1 , . . . , xn }) for some zero-terms zt 1 and zt2 . Then (by
completeness) it is provable from the wheel axioms. The rules â€˜0x i = 0â€™ can
finally be used to prove that zt 1 = 0 and zt2 = 0.
The acceptance of the rules â€˜0x i = 0â€™ lets us count as in rings with polynomial
expressions in x1 , . . . , xn .

36

Example 4.32. (x + 1) 2 = x(x + 2) + 1 is provable using wheel axioms and
â€˜0x = 0â€™:
(x + 1)2 = (x + 1)(x + 1) + 0x + 0 Â· 1 = (x + 1)(x + 1) + 0(x + 1)
= x(x + 1) + 1(x + 1) = x(x + 1) + x + 1
= x(x + 1 + 1) + 0x + 1 = x(x + 2) + 1

The theorems above have some corollaries. The first states how identities
from semirings can be transferred to wheels of fractions.
Corollary 4.33. If t(x1 , . . . , xn ) and s(x1 , . . . , xn ) are polynomial terms, then
t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is valid in WF if and only if it is balanced and
valid in N.
Proof. Suppose it is valid in WF. Then it is valid in âˆ… N and hence in N. Since
t(x1 , . . . , xn ) âˆˆ N[x1 , . . . , xn ] âˆ¼
= R âˆ… (N[x1 , . . . , xn ]), we conclude that it cannot
be equal to 0/0. So the equation is balanced.
On the other hand, if the equation is valid in N, then t(x1 , . . . , xn ) =
s(x1 , . . . , xn ) in
N[x1 , . . . , xn ] âŠ‚ âˆ… (N[x1 , . . . , xn ]).
If it is also balanced, then it is valid in WF.
Example 4.34. (x + 1) 2 = x(x + 2) + 1 is balanced and valid in N, hence it is
valid in wheels of fractions.
Example 4.35. (x + y)(x âˆ’ y) = x 2 âˆ’ y 2 is balanced and valid in Z, hence it
is valid in wheels of fractions with negation.
The next result states how equations that have partial meaning and partial
validity in fields of characteristic zero can be transferred to wheels of fractions.
Corollary 4.36. Suppose there is an infinite subset X of Q such that the terms
t(x1 , . . . , xn ) and s(x1 , . . . , xn ) are meaningful and Q-valued when values from
X are substituted for the variables and / is interpreted as inversion. Suppose
also that t and s yield the same values when such substitutions are made. Then
t(x1 , . . . , xn ) + 0s(x1 , . . . , xn ) = s(x1 , . . . , xn ) + 0t(x1 , . . . , xn )
is valid in WF.
Proof. Since the latter equation is balanced, we use that its validity in WF is
equivalent to the truth of
t(x1 , . . . , xn ) + 0s(x1 , . . . , xn ) = s(x1 , . . . , xn ) + 0t(x1 , . . . , xn )
in

âˆ… (N[x1 , . . . , xn ]).
If each side is computed, we get [pt (x1 , . . . , xn ), qt (x1 , . . . , xn )] on the left
for some polynomials p t , qt and [ps (x1 , . . . , xn ), qs (x1 , . . . , xn )] on the right for
some polynomials p s , qs . Clearly, qt and qs will be equal as polynomials. We
shall prove that also p t and ps must be equal as polynomials.
When x1 , . . . , xn are replaced by values from X, then we get values in Q =
R S0 Z. Hence qt and qs are non-zero for such substitutions. Since we also
know that the values for t and s are equal for such substitutions, we conclude
that the values for pt and ps are equal. But since X is infinite, that implies that
pt and ps are equal as polynomials.

37

Example 4.37. The equation x/x = 1 is valid in Q \ {0}, hence x/x + 0 Â· 1 =
1 + 0x/x is valid in wheels of fractions (this is of course a known rule for wheels,
but it is instructive to see how it is related to validity in Q).
Example 4.38. The equation x/x âˆ’ 1 = 0 is valid in Q \ {0}, hence x/x âˆ’ 1 =
0x/x is valid in wheels of fractions with negation.
We now prove the lemmas for the theorems.
Lemma 4.39. 0xi is +-cancellable in FWF ({x1 , . . . , xn }), for i = 1, . . . , n.
Proof. We shall prove that if t(x1 , . . . , xn ) + 0xi = s(x1 , . . . , xn ) + 0xi is valid
in âˆ… N, then t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is too.
Substitute therefore x0j /x00j for every variable x j and compute the values of
the terms, ending up with the following form, where p t , qt , ps , qs are polynomials:
pt (x01 , . . . , x0n , x001 , . . . , x00n )
qt (x01 , . . . , x0n , x001 , . . . , x00n )
ps (x01 , . . . , x0n , x001 , . . . , x00n )
s(x1 , . . . , xn ) =
.
qs (x01 , . . . , x0n , x001 , . . . , x00n )
t(x1 , . . . , xn ) =

The values of t(x1 , . . . , xn ) + 0xi and s(x1 , . . . , xn ) + 0xi are then
pt (x01 , . . . , x0n , x001 , . . . , x00n )x00i
qt (x01 , . . . , x0n , x001 , . . . , x00n )x00i
ps (x01 , . . . , x0n , x001 , . . . , x00n )x00i
.
s(x1 , . . . , xn ) + 0xi =
qs (x01 , . . . , x0n , x001 , . . . , x00n )x00i
t(x1 , . . . , xn ) + 0xi =

Since t(x1 , . . . , xn ) + 0xi = s(x1 , . . . , xn ) + 0xi is valid in âˆ… N, we have
identical values for any substitution in âˆ… N, hence pt = ps and qt = qs as
polynomials. But then t(x1 , . . . , xn ) and s(x1 , . . . , xn ) take the same values for
any substitution with elements from âˆ… N, hence t(x1 , . . . , xn ) = s(x1 , . . . , xn )
is valid in âˆ… N.
Definition 4.40. Let t(x 1 , . . . , xn ) â‰¡ s(x1 , . . . , xn ) mean that there are zeromn
1
terms 0xn1 1 . . . xnnn and 0xm
such that
1 . . . xn
n
t(x1 , . . . , xn ) + 0xn1 1 . . . xnnn = s(x1 , . . . , xn ) + 0x1m1 . . . xm
n

in FWheel ({x1 , . . . , xn }).
Lemma 4.41. â‰¡ is a congruence relation.
Proof. It is clearly reflexive and symmetric. The transitivity follows from 0x +
0y = 0xy (10). We must prove that it preserves +, Â· and /. Suppose therefore
that t â‰¡ s (let us suppress the part (x1 , . . . , xn ) everywhere). Then there are
zero-terms, say zt 1 and zt2 for short, such that t + zt1 = s + zt2 . We then have
(using (6) and (7) in the second and third row)
t + u + zt1 = s + u + zt 2
tu + zt1 = (t + zt1 )u = (s + zt2 )u = su + zt2
/t + zt1 = /(t + zt1 ) = /(s + zt2 ) = /s + zt2 .

38

Lemma 4.42. If the polynomial terms p(x1 , . . . , xn ) and q(x1 , . . . , xn ) are equivalent, then p(x1 , . . . , xn ) â‰¡ q(x1 , . . . , xn ).
Proof. We first prove that 0p(x1 , . . . , xn ) â‰¡ 0 by induction on the number
of occurrences of operations composing p. It is obvious if p is x i or a constant. If p is t + s, then 0p(x1 , . . . , xn ) = 0(t(x1 , . . . , xn ) + s(x1 , . . . , xn )) =
0t(x1 , . . . , xn ) + 0s(x1 , . . . , xn ) â‰¡ 0 + 0 = 0. If p is ts, then 0p(x 1 , . . . , xn ) =
0t(x1 , . . . , xn )s(x1 , . . . , xn ) â‰¡ 0s(x1 , . . . , xn ) â‰¡ 0.
Hence, if p is a polynomial term and z = p(x 1 , . . . , xn ), then for every
x, y âˆˆ FWheel ({x1 , . . . , xn }) we have (x + y)z = (x + y)z + 0z â‰¡ xz + yz, so that
we have
x+y =y+x
x + (y + z) = (x + y) + z
0+x =x
xy = yx
x(yz) = (xy)z
1x = x
(x + y)z â‰¡ xz + yz
0z â‰¡ 0

when counting with polynomial terms. We conclude that every derivation of
p(x1 , . . . , xn ) = q(x1 , . . . , xn ) that uses the axioms for commutative semirings
only, is transformed into an argument that proves p(x 1 , . . . , xn ) â‰¡ q(x1 , . . . , xn ),
by changing each â€˜=â€™ to â€˜â‰¡â€™.
Remark: The analogous case of wheels with negation is treated by use of
z âˆ’ z â‰¡ 0, which is true since z âˆ’ z = 0z 2 .
On the other hand, if p(x1 , . . . , xn ) â‰¡ q(x1 , . . . , xn ) for polynomial terms p
and q, then they are equivalent. Hence â‰¡ can be thought of as an extension of
the equivalence for polynomial terms. 17
Lemma 4.43. For any term t(x1 , . . . , xn ), one can find two polynomial terms
p(x1 , . . . , xn ) and q(x1 , . . . , xn ) with
t(x1 , . . . , xn ) â‰¡

p(x1 , . . . , xn )
q(x1 , . . . , xn )

in FWheel ({x1 , . . . , xn }).
Proof. We use induction on the number of occurrences of operations composing
t.
0 occurrences: t(x1 , . . . , xn ) is xi . Then choose p(x1 , . . . , xn ) = xi and
q(x1 , . . . , xn ) = 1 and the result is obvious.
N +1 occurrences, assuming that we have proved the result for N occurrences
(let us suppress the part (x1 , . . . , xn ) everywhere): If t is a constant, then choose
p = t and q = 1. Otherwise, we have the following possibilities.
17 Note however that this statement is informal, since â‰¡ is not a relation between terms,
but between elements of a certain wheel.

39

1. t is t1 + t2 . By the induction hypotheses, we have t 1 â‰¡ p1 /q1 and t2 â‰¡
p2 /q2 . Hence
pt2 qt1

pt1 + qt
pt
pt
pt
pt
2
t = t1 + t2 â‰¡ 1 + 2 â‰¡ 1 + 2 + 0qt1 =
qt1
qt2
qt1
qt2
qt1
â‰¡

pt1 +

pt2 qt1
qt2

+ 0qt2 =
qt1
pt qt + pt2 qt1
= 1 2
.
qt1 qt2

pt1 +

pt2 qt1
qt2 + 0qt2

qt1

=

pt1 qt2 +pt2 qt1
qt2

qt1

2. t is t1 t2 .
t = t 1 t2 â‰¡



pt1
qt1



pt2
qt2



=

pt1 pt2
qt1 qt2

3. t is /t1 .
t = /t1 â‰¡ /(pt1 /qt1 ) = qt1 /pt1
Lemma 4.44. (FWheel ({x1 , . . . , xn })/â‰¡) âˆ¼
=

âˆ… (N[x1 , . . . , xn ]).

Proof. The evaluation morphism FWheel ({x1 , . . . , xn }) â†’ âˆ… (N[x1 , . . . , xn ]) is
surjective, we shall prove that its kernel is â‰¡.
Clearly, if t(x1 , . . . , xn ) â‰¡ s(x1 , . . . , xn ) is true in FWheel ({x1 , . . . , xn }),
then t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in âˆ… (N[x1 , . . . , xn ]). We need to
prove the other direction.
Suppose that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) in âˆ… (N[x1 , . . . , xn ]). By the
previous lemma, there are polynomial terms p t , qt , ps , qs such that
t(x1 , . . . , xn ) â‰¡

pt (x1 , . . . , xn )
qt (x1 , . . . , xn )

s(x1 , . . . , xn ) â‰¡

ps (x1 , . . . , xn )
.
qs (x1 , . . . , xn )

and

Hence it holds in

âˆ… (N[x1 , . . . , xn ]) that

pt (x1 , . . . , xn )
ps (x1 , . . . , xn )
= t(x1 , . . . , xn ) = s(x1 , . . . , xn ) =
.
qt (x1 , . . . , xn )
qs (x1 , . . . , xn )
Therefore, pt and ps are equivalent, as well as q t and qs . Hence, by lemma 4.42,
we have
pt (x1 , . . . , xn ) â‰¡ ps (x1 , . . . , xn )
and

qt (x1 , . . . , xn ) â‰¡ qs (x1 , . . . , xn ),

so that
t(x1 , . . . , xn ) â‰¡

pt (x1 , . . . , xn )
ps (x1 , . . . , xn )
â‰¡
â‰¡ s(x1 , . . . , xn ).
qt (x1 , . . . , xn )
qs (x1 , . . . , xn )

40

Lemma 4.45. Suppose p and q are polynomial terms, not both equivalent to 0.
If
p(x1 , . . . , xn )
p(x1 , . . . , xn )
mn
1
+ 0xn1 1 . . . xnnn =
+ 0xm
1 . . . xn
q(x1 , . . . , xn )
q(x1 , . . . , xn )
is true in FWF ({x1 , . . . , xn }), then it is true in FWheel ({x1 , . . . , xn }) too.
Proof. We prove that (n1 , . . . , nn ) = (m1 , . . . , mn ).
Choose distinct positive prime numbers a 1 , . . . , an , b1 , . . . , bn such that
a
0
p(a1 /b1 , . . . , an /bn )
= 6=
q(a1 /b1 , . . . , an /bn )
b
0
in

âˆ… N.
Then

abn1 . . . bnnn
p(a1 /b1 , . . . , an /bn )
+ 0(a1 /b1 )n1 . . . (an /bn )nn = n1 1
q(a1 /b1 , . . . , an /bn )
bb1 . . . bnnn
and
mn
1
abm
p(a1 /b1 , . . . , an /bn )
1 . . . bn
+ 0(a1 /b1 )m1 . . . (an /bn )mn = m
mn
1
q(a1 /b1 , . . . , an /bn )
bb1 . . . bn

but by assumption, these should be equal. Since a 6= 0 or b 6= 0, we conclude
that (n1 , . . . , nn ) = (m1 , . . . , mn ).
Lemma 4.46. If t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in FWF ({x1 , . . . , xn }),
then there is a term 0xn1 1 . . . xnnn such that t(x1 , . . . , xn ) + 0xn1 1 . . . xnnn =
s(x1 , . . . , xn ) + 0xn1 1 . . . xnnn is true in FWheel ({x1 , . . . , xn }).
Proof. Suppose t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in FWF ({x1 , . . . , xn }).
Then it is in âˆ… (N[x1 , . . . , xn ]) too. Hence, there are polynomials p(x 1 , . . . , xn )
and q(x1 , . . . , xn ) with
p(x1 , . . . , xn )
q(x1 , . . . , xn )
p(x1 , . . . , xn )
s(x1 , . . . , xn ) =
q(x1 , . . . , xn )
t(x1 , . . . , xn ) =

true in âˆ… (N[x1 , . . . , xn ]).
If both p and q are equivalent to â€˜0â€™, then we may suppose that they are
actually both the term â€˜0â€™.
Since FWheel ({x1 , . . . , xn })/â‰¡ âˆ¼
= âˆ… (N[x1 , . . . , xn ]), there are zero-terms,
say zt1 , zt2 , zt3 , zt4 for short, such that
p(x1 , . . . , xn )
+ zt2
q(x1 , . . . , xn )
p(x1 , . . . , xn )
s(x1 , . . . , xn ) + zt3 =
+ zt4
q(x1 , . . . , xn )
t(x1 , . . . , xn ) + zt1 =

in FWheel ({x1 , . . . , xn )}).

41

Since
p(x1 , . . . , xn )
+ zt2 + zt3 = t(x1 , . . . , xn ) + zt1 + zt3
q(x1 , . . . , xn )
= s(x1 , . . . , xn ) + zt1 + zt3
=

p(x1 , . . . , xn )
+ zt4 + zt1
q(x1 , . . . , xn )

in FWF ({x1 , . . . , xn ) and zt2 + zt3 and zt4 + zt1 compute to zero-terms of the
form used in the statement of the previous lemma, we may use that lemma to
conclude that if p and q are not both the term â€˜0â€™, then
p(x1 , . . . , xn )
p(x1 , . . . , xn )
+ zt2 + zt3 =
+ zt4 + zt1
q(x1 , . . . , xn )
q(x1 , . . . , xn )
is true also in FWheel ({x1 , . . . , xn }). But if p and q are both â€˜0â€™, then this fact
follows from the axiom 8 instead of from the lemma.
Now choose (n1 , . . . , nn ) such that zt1 + zt3 = 0xn1 1 . . . xnnn . Then
p(x1 , . . . , xn )
+ zt2 + zt3
q(x1 , . . . , xn )
p(x1 , . . . , xn )
+ zt4 + zt1
=
q(x1 , . . . , xn )
= s(x1 , . . . , xn ) + 0xn1 1 . . . xnnn

t(x1 , . . . , xn ) + 0xn1 1 . . . xnnn =

Lemma 4.47. Any equation t(x1 , . . . , xn ) = s(x1 , . . . , xn ) which is true in
FWF ({x1 , . . . xn }) can be proved using the wheel axioms together with the axioms
â€˜0xi is +-cancellableâ€™ (i = 1, . . . , n).
Proof. Suppose t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in FWF ({x1 , . . . , xn }). By
the previous lemma, we get an equation which is true in F Wheel ({x1 , . . . , xn })
by adding a zero-term 0x n1 1 . . . xnnn to each side. The resulting equation can
be proved using the axioms for wheels. The term 0x n1 1 . . . xnnn can then be
cancelled by the use of â€˜0xi is +-cancellableâ€™ several times for different i, since
it is provable that
nj
n X
X
0xn1 1 . . . xnnn =
0xj .
j=1 k=1

Lemma 4.48. Suppose that t(x1 , . . . , xn ) = 0/0 is true in
Then it is true in FWF ({x1 , . . . , xn }) too.

âˆ… (N[x1 , . . . , xn ]).

Proof. Assume the conditions. t(x1 , . . . , xn ) â‰¡ 0/0 in FWheel ({x1 , . . . , xn })
according to lemma 4.44, say
t(x1 , . . . , xn ) + zt1 = 0/0 + zt 2 = 0/0 = 0/0 + zt 1 .
Hence t(x1 , . . . , xn ) + zt1 = 0/0 + zt1 also in FWF ({x1 , . . . , xn }), but by lemma
4.39, we conclude that t(x1 , . . . , xn ) = 0/0.
42

Lemma 4.49. Suppose that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is an unbalanced
equation. Then t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in FWF ({x1 , . . . , xn }) if
and only if each side is equal to 0/0 in âˆ… (N[x1 , . . . , xn ]) (and hence, by the
previous lemma, in FWF ({x1 , . . . , xn }) too).
Proof. Suppose that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in FWF ({x1 , . . . , xn }).
By lemma 4.46, there is a zero-term 0x n1 1 . . . xnnn such that
t(x1 , . . . , xn ) + 0xn1 1 . . . xnnn = s(x1 , . . . , xn ) + 0xn1 1 . . . xnnn
in FWheel ({x1 , . . . , xn }). By completeness, this equation is provable using the
wheel axioms, but since it is unbalanced, one must use an unbalanced axiom.
There is just one, namely â€˜x + 0/0 = 0/0â€™. That can be used only if â€˜0/0â€™ occurs
as a subterm in the derivation; but if it does, then every term in the derivation
can be proved to be equal to 0/0.
Hence
t(x1 , . . . , xn ) + 0xn1 1 . . . xnnn = 0/0
and
s(x1 , . . . , xn ) + 0xn1 1 . . . xnnn = 0/0
in FWF ({x1 , . . . , xn }) and hence also in âˆ… (N[x1 , . . . , xn ]). But in the latter,
we have 0xn1 1 . . . xnnn = 0, hence we conclude that
t(x1 , . . . , xn ) = t(x1 , . . . , xn ) + 0xn1 1 . . . xnnn = 0/0
and
s(x1 , . . . , xn ) = s(x1 , . . . , xn ) + 0xn1 1 . . . xnnn = 0/0
holds in âˆ… (N[x1 , . . . , xn ]).
The other direction was proved in the previous lemma.
Lemma 4.50. Suppose that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is a balanced equation
and that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in âˆ… (N[x1 , . . . , xn ]). Then it is
true also in FWF ({x1 , . . . , xn }).
Proof. Assume the conditions. Then t(x1 , . . . , xn ) â‰¡ s(x1 , . . . , xn ) is true in
FWheel ({x1 , . . . , xn }) by lemma 4.44, say that t(x 1 , . . . , xn ) + 0xn1 1 . . . xnnn =
mn
1
s(x1 , . . . , xn ) + 0xm
1 . . . xn . Since this is true in FWheel ({x1 , . . . , xn }), it is
in FWF ({x1 , . . . , xn }) too. If (n1 , . . . , nn ) = (m1 , . . . , mn ), then it follows by
lemma 4.39 that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in FWF ({x1 , . . . , xn }).
If (n1 , . . . , nn ) 6= (m1 , . . . , mn ), then the equation t(x1 , . . . , xn )+0xn1 1 . . . xnnn
mn
1
= s(x1 , . . . , xn ) + 0xm
1 . . . xn is unbalanced, hence, by the previous lemma, we
mn
1
have that t(x1 , . . . , xn ) + 0xn1 1 . . . xnnn = 0/0 and s(x1 , . . . , xn ) + 0xm
1 . . . xn =
n1
nn
0/0 in âˆ… (N[x1 , . . . , xn ]). But since 0x1 . . . xn = 0 in âˆ… (N[x1 , . . . , xn ]), we
have
t(x1 , . . . , xn ) = 0/0
and
s(x1 , . . . , xn ) = 0/0
which by lemma 4.48 implies that t(x1 , . . . , xn ) = s(x1 , . . . , xn ) is true in
FWF ({x1 , . . . , xn }).
43

5

Wheel-modules

Since the notion of module is central in the study of rings, and wheels can be
used as a replacement of rings, we should introduce the notion of an H-module
over a wheel H. We indicate briefly how a theory of modules may be developed.
The notion of A-module, where A is an arbitrary semiring, was defined in
section 3 (definition 3.2) and it was noted that when A happens to be a ring,
then an A-module in the defined sense is an A-module in the usual sense of rings.
The following definition is similar to that definition. Note that the axioms are
the wheel axioms that are interpretable in the given context, we mark to the
right to which wheel axiom each axiom corresponds.
Definition 5.1. Let H be a wheel. An H-module is a commutative monoid
hM, 0, +i with multiplication by H-elements defined (formally, a function H Ã—
M â†’ M written (x, m) 7â†’ xm) such that for any x, x0 âˆˆ H, m, m0 âˆˆ M ,
(xx0 )m = x(x0 m)

(as 2)

1m = m

(as 2)

(x + x0 )m + 0m = xm + x0 m
x(m + m0 ) + x0 = xm + xm0

(as 3)
(as 3)

(/x)m + m0 + x0 = (/x)(m + xm0 )
0Â·0=0

(as 4)
(as 5)

x(m + 0m0 ) = xm + 0m0
m + (/0)0 = (/0)0

(as 6)
(as 8)

where 0 to the left is in H, while 0 to the right or alone is in M .
A morphism of H-modules is as usual a monoid-morphism which also preserves the multiplication. Let RH M be the subset {m âˆˆ M | 0m = 0}, which is
clearly an RH-module and for any H-module-morphism Ï• : M â†’ N , let R H Ï•
be the RH-module-morphism obtained by restriction to R H M . RH is clearly
a functor from the category of H-modules to the category of RH-modules.
The construction of wheels of fractions works also for modules over commutative semirings, so that we may construct â€œ X A-modulesâ€ from A-modules.
Let A be a commutative semiring, X a subset and S the multiplicative
monoid generated by X. Let M be an A-module and define âˆ¼ on M Ã— A by
(m, a) âˆ¼ (m0 , a0 ) â‡â‡’ âˆƒs1 , s2 âˆˆ S : (s1 m, s1 a) = (s2 m0 , s2 a0 ).
That this is an equivalence relation is seen in the same way as before. Let
be M Ã— A/âˆ¼ with the operations ([c, d] âˆˆ X A)

XM

0 = [0, 1]
[m, a] + [m , a ] = [a0 m + am0 , aa0 ]
0

0

[c, d][m, a0 ] = [cm, da0 ].
These operations are well-defined by the same arguments as before, and the
resulting structure is clearly a X A-module, denoted X M .
If Ï• : M â†’ N is an A-module homomorphism, let X Ï• be the X Amodule homomorphism X M â†’ X N given by [m, a] 7â†’ [Ï•(m), a]. X is then
44

a functor from the category of A-modules to the category of X A-modules;
with right adjoint R X A . If A is a ring, then the composition R X A X is the
well-known functor S âˆ’1 .
As an application, we may define X A in the case when A is a commutative
ring without identity element. Suppose A is such a ring, X a subset of it. Let
A[1] be (following Nagata) the additive group Z Ã— A together with the extra
operations 1 = (1, 0) and
(n, a)(n0 , a0 ) = (nn0 , na0 + n0 a + aa0 ),
which makes A[1] a commutative ring with identity 1, and with A injectively
embedded by the operation-preserving injection x 7â†’ (0, x). Identify A with
its image under this embedding. A is then an ideal of A[1], in particular an
A[1]-module. In this way, X A is defined as a X A[1]-module.
Another application is exponentiation with fractions as exponents. Since
every commutative monoid hM, e, Â·i is an N-module by multiplication m n (m âˆˆ
M, n âˆˆ N), it is extended to a S0 N-module S0 M consisting of elements [m, n]
âˆš
âˆš p/q
âˆš
= qn mp . In particular,
(m âˆˆ M, n âˆˆ N, write n m for [m, n]). One has n m
x1/0 and x0/0 is defined in this way.

45

References
[AM69]

M. F. Atiyah and I. G. MacDonald. Introduction to Commutative
Algebra. Addison-Wesley, London, 1969.

[Bir35]

Birkhoff, 1935. See e.g. [BS81] theorem 11.9, p. 75 or [GraÌˆ79] theorem
3, p. 171.

[Bor94]

F. Borceux. Handbook of Categorical Algebra, volume 2. Cambridge
University Press, Cambridge, 1994.

[Bou73]

N. Bourbaki. Elements of Mathematics, Algebra, Part I. AddisonWesley, Reading, Massachusetts, 1973.

[BS81]

S. Burris and H. P. Sankappanavar. A Course in Universal Algebra.
Springer-Verlag, New York, 1981.

[EP00]

A. Edalat and P. J. Potts. A new representation for exact real numbers. In S. Brookes and M. Mislove, editors, Electronic Notes in
Theoretical Computer Science, volume 6. Elsevier Science Publishers,
2000.

[Gol99]

J. S. Golan. Semirings and their Applications. Kluwer Academic
Publishers, Dordrecht, 1999.

[GraÌˆ79]

G. GraÌˆtzer. Universal Algebra. Springer-Verlag, New York, second
edition, 1979.

[Har77]

R. Hartshorne. Algebraic Geometry. Springer-Verlag, New York, 1977.

[Hey56]

A. Heyting. Intuitionism: An Introduction. North-Holland, Amsterdam, 1956.

[ML84]

P. Martin-LoÌˆf. Intuitionistic Type Theory. Bibliopolis, Naples, 1984.

[MRR88] R. Mines, F. Richman, and W. Ruitenburg. A Course in Constructive
Algebra. Springer-Verlag, New York, 1988.
[OÌˆbe00]

M. OÌˆberg. Algebraiska och topologiska hjul. Examensarbete i matematik, Stockholm University, 2000.

[Pot98]

P. J. Potts. Exact Real Arithmetic using MoÌˆbius Transformations.
PhD thesis, University of London, 1998. Currently available at
http://www.purplefinder.com/Ëœpotts/.

[Set97]

A. Setzer. Wheels (draft). Currently available at http://wwwcompsci.swan.ac.uk/Ëœcsetzer/, 1997.

46

